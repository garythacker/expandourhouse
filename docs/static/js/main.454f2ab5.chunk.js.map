{"version":3,"sources":["utils.js","congressNbrToStyleId.js","congress.js","heat.js","HeatKey.js","Map.js","MapWithPicker.js","stats.js","Graph.js","App.js","serviceWorker.js","index.js"],"names":["ordinal","number","suffix","suffixes","A","startYearForCongress","congress","K","L","hue","turnout","console","assert","STYLE_FORMULA","TURNOUTS","i","t","range","push","HeatKey","this","legendContainer","turnouts","d3","domain","props","width","append","attr","call","colors","map","style","background","_","join","border","height","className","ref","el","Component","mapboxgl","accessToken","gDistrictBoundaryLayer","gStateBoundaryLayer","gStateBoundaryBgLayer","gStateLabelLayer","Map","clearStorage","opts","container","mapContainer","maxPitch","touchPitch","dragRotate","undefined","center","zoom","setStyle","on","statesSource","districtsSource","log","addSource","type","url","addLayer","state","layer","HUE_STYLE_FORMULA","filter","districtBackgroundLayer","nbrVotersLayer","highlightedState","highlightState","remove","margin","CongressStats","require","Graph","minCongress","maxCongress","data","keys","parseInt","rec","year","isPresElect","isPresElectYear","x","d","votersY","voters","nice","nbrRepsY","nbrReps","votersLine","defined","y","nbrRepsLine","svg","text","datum","StoryPart","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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U,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,EAAI,CAAC,QAAU,GAAG,OAAS,MAAM,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,GAAG,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,GAAG,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,EAAI,CAAC,OAAS,MAAM,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,GAAG,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,EAAI,CAAC,QAAU,GAAG,OAAS,MAAM,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,GAAG,GAAK,GAAG,EAAI,CAAC,QAAU,GAAG,OAAS,QAAQ,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,EAAI,CAAC,QAAU,GAAG,OAAS,MAAM,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,GAAK,CAAC,QAAU,KAAK,EAAI,CAAC,OAAS,MAAM,GAA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","file":"static/js/main.454f2ab5.chunk.js","sourcesContent":["// turns 1 into '1st', etc.\nfunction ordinal(number) {\n    if (number < 0) {\n      throw 'Ordinal got negative number';\n    }\n    const suffixes = ['th', 'st', 'nd', 'rd', 'th', 'th', 'th', 'th', 'th', 'th'];\n    var suffix;\n    if (((number % 100) === 11) || ((number % 100) === 12) || ((number % 100) === 13)) {\n      suffix = suffixes[0];\n    }\n    else {\n      suffix = suffixes[number % 10];\n    }\n    return `${number}${suffix}`;\n}\n\nexport {ordinal};","/* Generated by get-styles.js */\n        const A = {\"1\":\"ckbsxgcv10cgs1jq63cjudtph\",\"2\":\"ckbsxgd7k0cfr1irzhk3qknhf\",\"3\":\"ckbsxgcxk0aq71imh5cjs1bdm\",\"4\":\"ckbsxgd900chl1jla6l7ad614\",\"5\":\"ckbsxgdll0ch51io45er7jmc2\",\"6\":\"ckbsxgdde0cfx1hmikgk2vj2g\",\"7\":\"ckbsxgds80ceq1ilfgkmvnnli\",\"8\":\"ckbsxgdci0cgh1ip7y8rxhzk1\",\"9\":\"ckbsxgd330cfy1imx2vgfw41x\",\"10\":\"ckbsxgdkb0cg11imx8zh8dsjw\",\"11\":\"ckbsxgdjl0cht1hmq5pzgqe15\",\"13\":\"ckbsxgbkm0ce61ipn6wkpsr2r\",\"14\":\"ckbsxgdbh0chq1hmqqobj6k3o\",\"15\":\"ckbsxgddt0cen1ilf2ysj0mk3\",\"16\":\"ckbsxgdnk0bop1ipwvgq29hzn\",\"17\":\"ckbsxgddp0chk1ipb7yktxj5q\",\"18\":\"ckbsxgdp40chm1ipb43hlr9oc\",\"19\":\"ckbsxgbto0chx1ipj0za1kq2w\",\"20\":\"ckbsxgdkz0chl1ipbk9avbvej\",\"95\":\"ckbsxfkm80cha1ipj2ggmxrqz\",\"96\":\"ckbsxfklp0ch91ipjhw8v3kir\",\"97\":\"ckbsxfkt30cfx1jq6t9hetjco\",\"98\":\"ckbsxfknn0ce71ipd7vfzim9p\",\"99\":\"ckbsxfki50cf71imx4jiwed5o\",\"100\":\"ckbsxfkmz0cf61hmiprnu9140\",\"generic\":\"ckbu2kkj1030b1io3jfo1ykiq\"};\n        export default A;","const gFirstCongressStartYear = 1789;\n\nfunction startYearForCongress(congress) {\n    return gFirstCongressStartYear + 2*(congress-1);\n}\n\nfunction congressForYear(year) {\n    if (year < gFirstCongressStartYear) {\n        return undefined;\n    }\n\tif (year%2 === 0) {\n\t\t--year;\n\t}\n\treturn (year-1789)/2 + 1;\n}\n\nexport {startYearForCongress, congressForYear};","const HOTTEST_HUE = 0; // red\nconst COOLEST_HUE = 225; // blue\nconst MIN_TURNOUT = 203;\nconst MAX_TURNOUT = 444230;\n\n/*\n    Let c = COOLEST_HUE, h = HOTTEST_HUE, t = MIN_TURNOUT, T = MAX_TURNOUT, x = turnout\n\n    c = mt + b\n    h = mT + b\n\n    c - h = mt + b - mT - b\n          = m(t - T)\n    m = (c - h)/(t - T)\n\n    c = t(c - h)/(t - T) + b\n    b = c - t(c - h)/(t - T)\n\n    H = x(c - h)/(t - T) + c - t(c - h)/(t - T)\n      = (x - t)(c - h)/(t - T) + c\n*/\n\n/*\nH ranges from COOLEST_HUE to HOTTEST_HUE.\n\nFind equation mapping turnout to hue:\n    H = m * turnout + b\n\nWe want:\n    H = COOLEST_HUE = m * MIN_TURNOUT + b\n    H = HOTTEST_HUE = m * MAX_TURNOUT + b\n\nSolve for m and B:\n    Let c = COOLEST_HUE, h = HOTTEST_HUE, t = MIN_TURNOUT, T = MAX_TURNOUT, x = turnout\n    \n    c = mt + b\n    h = mT + b\n\n    c - h = mt + b - mT - b\n          = m(t - T)\n    m = (c - h)/(t - T)\n\n    c = t(c - h)/(t - T) + b\n    b = c - t(c - h)/(t - T)\n\n    H = x(c - h)/(t - T) + c - t(c - h)/(t - T)\n      = (x - t)(c - h)/(t - T) + c\n\n    Let K = (c - h)/(t - T).\n    Let L = c - tK.\n    H = (x - t)K + c = xK - tK + c = xK + L\n\nTherefore:\n\n    K = (COOLEST_HUE - HOTTEST_HUE)/(MIN_TURNOUT - MAX_TURNOUT)\n    L = COOLEST_HUE - MIN_TURNOUT * K\n    H = turnout * K + L\n*/\n\nconst K = (COOLEST_HUE - HOTTEST_HUE)/(MIN_TURNOUT - MAX_TURNOUT);\nconst L = COOLEST_HUE - MIN_TURNOUT * K;\n\nfunction hue(turnout) {\n    return turnout * K + L;\n}\n\nconsole.assert(hue(MIN_TURNOUT) === COOLEST_HUE);\nconsole.assert(hue(MAX_TURNOUT) === HOTTEST_HUE);\n\nconst STYLE_FORMULA = [\"+\", [\"*\", [\"get\", \"turnout\"], K], L];\n\nexport {COOLEST_HUE, HOTTEST_HUE, MIN_TURNOUT, MAX_TURNOUT, hue, STYLE_FORMULA};\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport * as d3 from 'd3';\nimport {COOLEST_HUE, HOTTEST_HUE, MIN_TURNOUT, MAX_TURNOUT, hue} from './heat.js';\nimport './HeatKey.css';\n\nconst NBR_SLOTS = 5;\nconst TURNOUTS = [];\nfor (let i = 0; i < NBR_SLOTS; ++i) {\n    const range = MAX_TURNOUT - MIN_TURNOUT;\n    const delta = range/NBR_SLOTS;\n    const t = (i + 1) * delta;\n    TURNOUTS.push(t);\n}\n\nclass HeatKey extends Component {\n    componentDidMount() {\n        console.assert(this.legendContainer);\n        const turnouts = d3.scaleLinear()\n            .domain([d3.min(TURNOUTS), d3.max(TURNOUTS)])\n            .range([0, this.props.width]);\n        const svg = d3.select(this.legendContainer)\n            .append(\"svg\")\n            .attr(\"width\", this.props.width)\n            .attr(\"height\", 20)\n            .append(\"g\")\n            .call(d3.axisBottom(turnouts));\n    }\n\n    render() {\n        // make background gradient\n        const colors = TURNOUTS.map(t => `hsl(${hue(t)}, 100%, 50%)`);\n        const bgColorCss = `linear-gradient(to right, ${_.join(colors, ', ')})`;\n        const style = {\n            background: bgColorCss, border: '1px solid black',\n            width: `${this.props.width}px`,\n            height: '10px',\n        };\n        return (\n            <div>\n                <div className=\"heat-key\" style={style} />\n                <div className=\"heat-key-legend\" ref={el => this.legendContainer = el} />\n            </div>\n        );\n    }\n}\n\nexport {HeatKey};\n","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport {ordinal} from './utils.js';\nimport {STYLE_FORMULA as HUE_STYLE_FORMULA} from './heat.js';\nimport {HeatKey} from './HeatKey.js';\nimport './Map.css';\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZHNoZWFyZXIiLCJhIjoiY2syam1qaThuMTEzazNsbnZxNHhidnZqcyJ9.Q0wOV0EePfEaRyw1oEK3UA';\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\n\nconst gNbrVotersLayerName = 'nbr-voters';\nconst gHighlightStateLayerName = 'highlight-state';\nconst gDistrictLabelLayerName = 'district-label';\nconst gStateLabelLayerName = 'state-label';\n\nconst gDistrictBoundaryLayer = {\n    \"id\": \"district-boundary\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"districts\",\n    \"source-layer\": \"districts\",\n    \"filter\": [\n        \"all\",\n        [\n          \"match\",\n          [\"get\", \"group\"],\n          [\"boundary\"],\n          true,\n          false\n        ]\n      ],\n    \"layout\": {\"line-join\": \"round\", \"line-cap\": \"round\"},\n    \"paint\": {\n        \"line-dasharray\": [\n            \"step\",\n            [\"zoom\"],\n            [\"literal\", [2, 0]],\n            7,\n            [\"literal\", [2, 2, 6, 2]]\n        ],\n        \"line-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            0.75,\n            12,\n            1.5\n        ],\n        \"line-opacity\": [\"step\", [\"zoom\"], 0, 5, 1],\n        \"line-color\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            3,\n            \"hsl(0, 0%, 80%)\",\n            7,\n            \"hsl(0, 0%, 70%)\"\n        ]\n    }\n};\n\nconst gStateBoundaryLayer = {\n    \"id\": \"admin-1-boundary\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"boundary\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\"line-join\": \"round\", \"line-cap\": \"round\"},\n    \"paint\": {\n        \"line-dasharray\": [\n            \"step\",\n            [\"zoom\"],\n            [\"literal\", [2, 0]],\n            7,\n            [\"literal\", [2, 2, 6, 2]]\n        ],\n        \"line-width\": 2,\n        \"line-opacity\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            2,\n            0,\n            3,\n            1\n        ],\n        \"line-color\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            3,\n            \"hsl(0, 0%, 80%)\",\n            7,\n            \"hsl(0, 0%, 70%)\"\n        ]\n    }\n};\n\nconst gStateBoundaryBgLayer = {\n    \"id\": \"admin-1-boundary-bg\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"boundary\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\"line-join\": \"bevel\"},\n    \"paint\": {\n        \"line-blur\": [\"interpolate\", [\"linear\"], [\"zoom\"], 3, 0, 8, 3],\n        \"line-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            3.75,\n            12,\n            5.5\n        ],\n        \"line-opacity\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            0,\n            8,\n            0.75\n        ],\n        \"line-dasharray\": [1, 0],\n        \"line-translate\": [0, 0],\n        \"line-color\": \"hsl(0, 0%, 84%)\"\n    }\n};\n\nconst gStateLabelLayer = {\n    \"id\": \"state-label\",\n    \"type\": \"symbol\",\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"minzoom\": 3,\n    \"maxzoom\": 5,\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"label\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\n        \"text-size\": [\n            \"interpolate\",\n            [\"cubic-bezier\", 0.85, 0.7, 0.65, 1],\n            [\"zoom\"],\n            4,\n            [\"step\", [\"get\", \"symbolrank\"], 10, 6, 9.5, 7, 9],\n            9,\n            [\"step\", [\"get\", \"symbolrank\"], 24, 6, 18, 7, 14]\n        ],\n        \"text-transform\": \"uppercase\",\n        \"text-font\": [\"DIN Offc Pro Bold\", \"Arial Unicode MS Bold\"],\n        \"text-field\": [\"get\", \"titleShort\"],\n        \"text-letter-spacing\": 0.15,\n        \"text-max-width\": 6\n    },\n    \"paint\": {\n        \"text-halo-width\": 1,\n        \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n        \"text-color\": \"hsl(0, 0%, 66%)\"\n    }\n};\n\nfunction nbrVotersLayer(state) {\n    const layer = {\n        \"id\": gNbrVotersLayerName,\n        \"type\": \"symbol\",\n        \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n        \"source\": \"districts\",\n        \"source-layer\": \"districts\",\n        \"minzoom\": 5,\n        \"maxzoom\": 9,\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"label\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"]\n          ],\n        \"layout\": {\n            \"text-size\": [\n                \"interpolate\",\n                [\n                  \"cubic-bezier\",\n                  0.85,\n                  0.7,\n                  0.65,\n                  1\n                ],\n                [\"zoom\"],\n                5,\n                10,\n                9,\n                [\n                  \"step\",\n                  [\"get\", \"symbolrank\"],\n                  24,\n                  3,\n                  14,\n                  6,\n                  18\n                ]\n              ],\n            \"text-transform\": \"none\",\n            \"text-font\": [\"DIN Offc Pro Regular\", \"Arial Unicode MS Regular\"],\n            \"text-field\": [\n                \"step\",\n                [\"zoom\"],\n                \"\",\n                5,\n                [\"get\", \"turnoutStr\"]\n              ],\n            \"text-letter-spacing\": 0.15,\n            \"text-max-width\": 10,\n            \"text-allow-overlap\": true,\n            \"text-offset\": [0, 0.75]\n        },\n        \"paint\": {\n            \"text-halo-width\": 1,\n            \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n            \"text-color\": \"hsl(0, 0%, 29%)\"\n        }\n    };\n    if (state) {\n        layer.filter.push([\"match\", [\"get\", \"state\"], [state], true, false]);\n    }\n    return layer;\n}\n\nfunction districtLabelLayer(state) {\n    const layer = {\n        \"id\": gDistrictLabelLayerName,\n        \"type\": \"symbol\",\n        \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n        \"source\": \"composite\",\n        \"source-layer\": \"districts\",\n        \"minzoom\": 5,\n        \"maxzoom\": 9,\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"label\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"]\n          ],\n        \"layout\": {\n            \"text-size\": [\n                \"interpolate\",\n                [\n                  \"cubic-bezier\",\n                  0.85,\n                  0.7,\n                  0.65,\n                  1\n                ],\n                [\"zoom\"],\n                5,\n                10,\n                9,\n                [\n                  \"step\",\n                  [\"get\", \"symbolrank\"],\n                  24,\n                  6,\n                  18,\n                  7,\n                  14\n                ]\n              ],\n            \"text-transform\": \"none\",\n            \"text-font\": [\"DIN Offc Pro Regular\", \"Arial Unicode MS Regular\"],\n            \"text-field\": [\n                \"step\",\n                [\"zoom\"],\n                \"\",\n                5,\n                [\"get\", \"titleLong\"]\n              ],\n            \"text-letter-spacing\": 0.15,\n            \"text-max-width\": 10,\n            \"text-allow-overlap\": true,\n            \"text-offset\": [0, -0.75]\n        },\n        \"paint\": {\n            \"text-halo-width\": 1,\n            \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n            \"text-color\": \"hsl(0, 0%, 29%)\"\n        }\n    };\n    if (state) {\n        layer.filter.push([\"match\", [\"get\", \"state\"], [state], true, false]);\n    }\n    return layer;\n}\n\nfunction districtBackgroundLayer(state) {\n\n    const layer = {\n        \"id\": gHighlightStateLayerName,\n        \"type\": \"fill\",\n        \"source\": \"districts\",\n        \"source-layer\": \"districts\",\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"boundary\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"],\n        ],\n        \"paint\": {\n            \"fill-color\": [\n                \"concat\",\n                \"hsl(\",\n                [\"to-string\", HUE_STYLE_FORMULA],\n                \", 100%, 50%)\",\n            ],\n            \"fill-opacity\": 0.2,\n            \"fill-antialias\": false\n        },\n    };\n    if (state) {\n        layer.filter.push([\"match\", [\"get\", \"state\"], [state], true, false]);\n    }\n    return layer;\n}\n\nclass Map extends Component {\n    componentDidMount() {\n        mapboxgl.clearStorage();\n\n        const opts = {\n            container: this.mapContainer,\n            maxPitch: 0,\n            touchPitch: false,\n            dragRotate: false,\n        };\n        if (this.props.center !== undefined) {\n            opts.center = this.props.center;\n        }\n        if (this.props.zoom !== undefined) {\n            opts.zoom = this.props.zoom;\n        }\n        this.map = new mapboxgl.Map(opts);\n\n        this.map.setStyle('mapbox://styles/dshearer/ckbu2kkj1030b1io3jfo1ykiq');\n        \n        this.map.on('style.load', () => {\n            const statesSource = `mapbox://dshearer.states-${this.props.congress}`;\n            const districtsSource = `mapbox://dshearer.districts-${this.props.congress}`;\n            console.log(statesSource);\n            console.log(districtsSource);\n\n            this.map.addSource('states', {\n                type: 'vector',\n                url: statesSource,\n            });\n            this.map.addSource('districts', {\n                type: 'vector',\n                url: districtsSource,\n            });\n\n            this.map.addLayer(gStateLabelLayer);\n            this.map.addLayer(gStateBoundaryBgLayer);\n            this.map.addLayer(gStateBoundaryLayer);\n            this.map.addLayer(gDistrictBoundaryLayer);\n            this.map.addLayer(districtBackgroundLayer());\n            this.map.addLayer(nbrVotersLayer());\n    \n            this.highlightedState = this.props.highlightState;\n        });\n    }\n\n    componentWillUnmount() {\n        if (this.map) {\n            this.map.remove();\n            this.map = undefined;\n        }\n    }\n\n    render() {\n        return (\n            <figure className=\"map\">\n                <div ref={el => this.mapContainer = el} style={{margin: '0',}} />\n                <HeatKey width={550} />\n                <figcaption>Number of voters in districts of\n                the {ordinal(this.props.congress)} Congress.<br />\n                (Zoom in to see the numbers.)</figcaption>\n            </figure>\n        );\n    }\n}\n\nexport {Map};","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport _ from 'lodash';\nimport {ordinal} from './utils.js';\nimport CONGRESS_NBR_TO_STYLE_ID from './congressNbrToStyleId';\nimport {startYearForCongress} from './congress.js';\nimport {Map} from './Map.js';\nimport './Map.css';\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZHNoZWFyZXIiLCJhIjoiY2syam1qaThuMTEzazNsbnZxNHhidnZqcyJ9.Q0wOV0EePfEaRyw1oEK3UA';\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\n\nclass MapWithPicker extends Component {\n    constructor(props) {\n        super(props);\n\n        this.sortedCongressNbrs = \n          _.sortBy(_.keys(CONGRESS_NBR_TO_STYLE_ID).map(n => parseInt(n)));\n\n        this.state = {\n            congress: this.sortedCongressNbrs[0],\n        };\n\n        this.handleSelectCongress = this.handleSelectCongress.bind(this);\n    }\n\n    handleSelectCongress(event) {\n        const newCongress = parseInt(event.target.value);\n        this.setState({congress: newCongress});\n    }\n\n    render() {\n        const pickerOpts = this.sortedCongressNbrs.map(n => {\n          return (<option key={n} value={n}>{ordinal(n)} Congress ({startYearForCongress(n)})</option>);\n        });\n        const picker = (\n          <select value={this.state.congress} onChange={this.handleSelectCongress}>\n            {pickerOpts}}\n          </select>\n        );\n\n        return (\n            <div>\n                {picker}\n                <div style={{height: '500px', width: '700px'}}>\n                    <Map congress={this.state.congress} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport {MapWithPicker};","/* Generated by compute-stats */\nconst CongressStats = {\"1\":{\"nbrReps\":44,\"voters\":1471},\"10\":{\"nbrReps\":125,\"voters\":4353},\"100\":{\"nbrReps\":435,\"voters\":142912},\"101\":{\"nbrReps\":435,\"voters\":199674},\"102\":{\"nbrReps\":435,\"voters\":151459},\"103\":{\"nbrReps\":435,\"voters\":232838.5},\"104\":{\"nbrReps\":435,\"voters\":169280},\"105\":{\"nbrReps\":435,\"voters\":215136},\"106\":{\"nbrReps\":435,\"voters\":161627},\"107\":{\"nbrReps\":435,\"voters\":229761},\"108\":{\"nbrReps\":435,\"voters\":174454.5},\"109\":{\"nbrReps\":435,\"voters\":272049},\"11\":{\"nbrReps\":129,\"voters\":4711},\"110\":{\"nbrReps\":435,\"voters\":192380},\"111\":{\"nbrReps\":435},\"112\":{\"nbrReps\":435},\"113\":{\"nbrReps\":435},\"114\":{\"nbrReps\":435},\"115\":{\"nbrReps\":435},\"12\":{\"nbrReps\":122,\"voters\":4787.5},\"13\":{\"nbrReps\":174,\"voters\":3705},\"14\":{\"nbrReps\":171,\"voters\":6009.5},\"15\":{\"nbrReps\":166,\"voters\":5332},\"16\":{\"nbrReps\":170,\"voters\":6963.5},\"17\":{\"nbrReps\":173,\"voters\":4239.5},\"18\":{\"nbrReps\":193,\"voters\":4399},\"19\":{\"nbrReps\":198,\"voters\":3406},\"2\":{\"nbrReps\":58,\"voters\":2018.5},\"20\":{\"nbrReps\":197},\"21\":{\"nbrReps\":194},\"22\":{\"nbrReps\":191},\"23\":{\"nbrReps\":222},\"24\":{\"nbrReps\":217},\"25\":{\"nbrReps\":230},\"26\":{\"nbrReps\":229},\"27\":{\"nbrReps\":230},\"28\":{\"nbrReps\":214},\"29\":{\"nbrReps\":224},\"3\":{\"nbrReps\":77,\"voters\":2265},\"30\":{\"nbrReps\":236},\"31\":{\"nbrReps\":241},\"32\":{},\"33\":{\"nbrReps\":239},\"34\":{\"nbrReps\":236},\"35\":{\"nbrReps\":242},\"36\":{\"nbrReps\":241},\"37\":{},\"38\":{\"nbrReps\":187},\"39\":{\"nbrReps\":202},\"4\":{\"voters\":2071},\"40\":{\"nbrReps\":234},\"41\":{\"nbrReps\":259},\"42\":{\"nbrReps\":256},\"43\":{\"nbrReps\":291},\"44\":{\"nbrReps\":307},\"45\":{\"nbrReps\":305},\"46\":{\"nbrReps\":303},\"47\":{},\"48\":{\"nbrReps\":331},\"49\":{\"nbrReps\":334},\"5\":{\"nbrReps\":94,\"voters\":2069},\"50\":{\"nbrReps\":331},\"51\":{\"nbrReps\":354},\"52\":{\"nbrReps\":346},\"53\":{\"nbrReps\":368},\"54\":{\"nbrReps\":364},\"55\":{\"nbrReps\":363},\"56\":{\"nbrReps\":371},\"57\":{\"nbrReps\":365},\"58\":{},\"59\":{},\"6\":{\"nbrReps\":96,\"voters\":3400.5},\"60\":{\"nbrReps\":396},\"61\":{\"nbrReps\":435},\"62\":{\"nbrReps\":435},\"63\":{\"nbrReps\":435},\"64\":{\"nbrReps\":435},\"65\":{\"nbrReps\":435},\"66\":{\"nbrReps\":435},\"67\":{\"nbrReps\":435},\"68\":{\"nbrReps\":435},\"69\":{\"nbrReps\":435},\"7\":{\"nbrReps\":92,\"voters\":3613},\"70\":{\"nbrReps\":435},\"71\":{\"nbrReps\":435},\"72\":{\"nbrReps\":435},\"73\":{\"nbrReps\":435},\"74\":{\"nbrReps\":435},\"75\":{\"nbrReps\":435},\"76\":{\"nbrReps\":435},\"77\":{\"nbrReps\":435},\"78\":{\"nbrReps\":435},\"79\":{\"nbrReps\":435},\"8\":{\"voters\":4288},\"80\":{\"nbrReps\":435},\"81\":{\"nbrReps\":435},\"82\":{\"nbrReps\":435},\"83\":{\"nbrReps\":435},\"84\":{\"nbrReps\":435},\"85\":{\"nbrReps\":435},\"86\":{\"nbrReps\":435},\"87\":{\"nbrReps\":435},\"88\":{\"nbrReps\":435},\"89\":{\"nbrReps\":435},\"9\":{\"nbrReps\":120,\"voters\":3374},\"90\":{\"nbrReps\":435},\"91\":{\"nbrReps\":435},\"92\":{\"nbrReps\":435},\"93\":{\"nbrReps\":435},\"94\":{\"nbrReps\":435},\"95\":{\"nbrReps\":435,\"voters\":176194},\"96\":{\"nbrReps\":435,\"voters\":131910},\"97\":{\"nbrReps\":435,\"voters\":179622},\"98\":{\"nbrReps\":435,\"voters\":155316.5},\"99\":{\"nbrReps\":435,\"voters\":203857}}\n;\nexport {CongressStats};\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport {CongressStats} from './stats.js';\nimport {startYearForCongress} from './congress.js';\nimport './Graph.css';\nimport { interpolateGreens } from 'd3';\nconst _ = require('lodash');\n\nfunction isPresElectYear(year) {\n    const delta = year - 1789;\n    return delta%4 == 0;\n}\n\nclass Graph extends Component {\n    componentDidMount() {\n        const margin = {top: 10, right: 50, bottom: 40, left: 70},\n            width = this.props.width - margin.left - margin.right,\n            height = this.props.height - margin.top - margin.bottom;\n\n        // prepare data\n        var minCongress = this.props.minCongress;\n        if (minCongress === undefined) {\n            minCongress = 1\n        }\n        var maxCongress = this.props.maxCongress;\n        if (maxCongress === undefined) {\n            maxCongress = 1000;\n        }\n        const data = _.keys(CongressStats)\n            .filter(congress => parseInt(congress) >= minCongress)\n            .filter(congress => parseInt(congress) <= maxCongress)\n            .map(congress => {\n                const rec = CongressStats[congress];\n                const year = startYearForCongress(parseInt(congress));\n                rec.year = d3.timeParse('%Y')(year);\n                rec.isPresElect = isPresElectYear(year);\n                return rec;\n            });\n\n        // make the lines\n        const x = d3.scaleUtc()\n            .domain(d3.extent(data, d => d.year))\n            .range([ 0, width ]);\n        const votersY = d3.scaleLinear()\n            .domain([0, d3.max(data, d => d.voters)]).nice()\n            .range([ height, 0 ]);\n        const nbrRepsY = d3.scaleLinear()\n            .domain([0, d3.max(data, d => d.nbrReps)]).nice()\n            .range([ height, 0 ]);\n        const votersLine = d3.line()\n            .defined(d => d.voters !== undefined)\n            .x(d => x(d.year))\n            .y(d => votersY(d.voters));\n        const nbrRepsLine = d3.line()\n            .defined(d => d.nbrReps !== undefined)\n            .x(d => x(d.year))\n            .y(d => nbrRepsY(d.nbrReps));\n\n        const svg = d3.select(this.container)\n            .append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\",  \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        // make the axes\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x));\n        svg.append(\"g\")\n            .attr(\"class\", \"axisVoters\")\n            .call(d3.axisLeft(votersY));\n        svg.append(\"g\")\n            .attr(\"class\", \"axisNbrReps\")\n            .attr(\"transform\", \"translate(\" + width + \", 0)\")\n            .call(d3.axisRight(nbrRepsY));\n\n        // make the axis labels\n        // svg.append(\"text\")             \n        //     .attr(\"transform\",\n        //             \"translate(\" + (width/2) + \" ,\" + \n        //                         (height + margin.top + 25) + \")\")\n        //     .style(\"text-anchor\", \"middle\")\n        //     .text(\"Year\");\n        svg.append(\"text\")\n            .attr(\"class\", \"axisVotersLabel\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .attr(\"y\", 0 - margin.left)\n            .attr(\"x\", 0 - (height / 2))\n            .attr(\"dy\", \"1em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(\"# of voters per rep\");    \n        svg.append(\"text\")\n            .attr(\"class\", \"axixNbrRepsLabel\")\n            .attr(\"transform\", \"rotate(90)\")\n            .attr(\"y\", -width - 35)\n            .attr(\"x\", height / 2)\n            .style(\"text-anchor\", \"middle\")\n            .text(\"# of reps\");    \n            \n        // // plot # voters during non-presidential-election years\n        // const nonPresElectData = data.filter(d => !d.isPresElect);\n        // svg.append(\"path\")\n        //     .datum(nonPresElectData.filter(votersLine.defined()))\n        //     .attr(\"class\", \"lineMissing\")\n        //     .attr(\"fill\", \"none\")\n        //     .attr(\"d\", votersLine);\n        // svg.append(\"path\")\n        //     .datum(nonPresElectData)\n        //     .attr(\"class\", \"lineVoters\")\n        //     .attr(\"fill\", \"none\")\n        //     .attr(\"d\", votersLine);\n\n        // // plot # voters during presidential-election years\n        // const presElectData = data.filter(d => d.isPresElect);\n        // svg.append(\"path\")\n        //     .datum(presElectData.filter(votersLine.defined()))\n        //     .attr(\"class\", \"lineMissing\")\n        //     .attr(\"fill\", \"none\")\n        //     .attr(\"d\", votersLine);\n        // svg.append(\"path\")\n        //     .datum(presElectData)\n        //     .attr(\"class\", \"lineVoters\")\n        //     .attr(\"fill\", \"none\")\n        //     .attr(\"d\", votersLine);\n\n        // plot # of voters\n        svg.append(\"path\")\n            .datum(data.filter(votersLine.defined()))\n            .attr(\"class\", \"lineMissing\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", votersLine);\n        svg.append(\"path\")\n            .datum(data)\n            .attr(\"class\", \"lineVoters\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", votersLine);\n\n        // plot # reps\n        svg.append(\"path\")\n            .datum(data.filter(nbrRepsLine.defined()))\n            .attr(\"class\", \"lineMissing\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", nbrRepsLine);\n        svg.append(\"path\")\n            .datum(data)\n            .attr(\"class\", \"lineNbrReps\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", nbrRepsLine);\n    }\n\n    render() {\n        const style = {width: this.props.width};\n        return (<div className=\"graph\" style={style} ref={el => this.container = el} />);\n    }\n\n}\n\nexport {Graph};","import React, { Component } from 'react';\nimport numeral from 'numeral';\nimport {MapWithPicker} from './MapWithPicker.js';\nimport {Map} from './Map.js';\nimport {Graph} from './Graph.js';\nimport './App.css';\nimport {startYearForCongress, congressForYear} from './congress.js';\nimport {CongressStats} from './stats.js';\n\nfunction medianVoters(congress) {\n  const factStat = CongressStats[''+congress];\n  console.assert(factStat !== undefined);\n  return factStat.voters;\n}\n\nfunction nbrReps(year) {\n  if (year >= 1970) {\n    return 435;\n  }\n  const factStat = CongressStats[''+congressForYear(year)];\n  console.assert(factStat !== undefined);\n  return factStat.nbrReps;\n}\n\nclass StoryPart extends Component {\n  render() {\n    const congressYear = startYearForCongress(this.props.congress);\n    const electionYear = congressYear - 1;\n    const usCenter = [-96.429, 38.3];\n\n    return (\n      <div className=\"story-part\">\n        <div>\n          <Map congress={this.props.congress} center={usCenter} zoom={2.5} />\n        </div>\n        \n        {/* <div className=\"text\">\n          <p>In {electionYear}, the median number of voters per Congressperson was&nbsp;\n          {numeral(medianVoters(this.props.congress)).format('0,0')}.</p>\n        </div> */}\n      </div>\n    );\n  }\n}\n\nclass App extends Component {\n  render() {\n    const text = \"In an ideal democracy, each citizen's political power necessarily decreases \" + \n    \"as the population increases.\";\n\n    return (\n      <div className=\"App\">\n        <section className=\"intro\">\n          <p className=\"fact\">You are represented in the House of Representatives\n          by <strong>one</strong> person.</p>\n\n          <p className=\"fact\">You share this person with about <strong>300,000</strong>\n          &nbsp;active voters.</p>\n\n          <p className=\"fact\">Is your voice <em>really</em> heard?</p>\n        </section>\n\n        <section className=\"how-did-it-get-this-way\">\n          <h2>How Did It Get This Way?</h2>\n\n          <p className=\"fact\">From the beginning, the House of Representatives expanded\n          along with population.</p>\n\n          <Graph width={500} height={250} maxCongress={20} />\n\n          <div className=\"story\">\n            <StoryPart congress=\"5\" />\n            <StoryPart congress=\"15\" />\n          </div>\n\n          <p className=\"fact\">But in <strong>1922</strong>, Congress froze the House\n          at <strong>435</strong>&nbsp;congresspeople. That&rsquo;s where it\n          is <strong>today</strong>.</p>\n\n          <Graph width={500} height={250} minCongress={95} />\n\n          <div className=\"story\">\n            <StoryPart congress=\"95\" />\n            <StoryPart congress=\"109\" />\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}