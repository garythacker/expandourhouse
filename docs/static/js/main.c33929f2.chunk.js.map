{"version":3,"sources":["heat.js","HeatKey.js","Map.js","stats.js","congress.js","Graph.js","windowWidthWatcher.js","App.js","serviceWorker.js","index.js"],"names":["Heat","maxTurnout","this","K","L","console","assert","hue","turnout","Math","round","HeatKey","props","turnouts","delta","i","t","push","drawNumberLine","g","d3","selectAll","remove","domain","range","MARGIN","width","call","heat","colors","map","keyStyle","background","_","join","border","height","marginLeft","marginRight","style","className","ref","el","Component","mapboxgl","accessToken","gDistrictBoundaryLayer","gStateBoundaryLayer","gStateBoundaryBgLayer","gStateLabelLayer","Map","v","zoom","resize","setMinZoom","getZoom","setZoom","opts","container","mapContainer","maxPitch","touchPitch","dragRotate","center","minZoom","setStyle","on","statesSource","congress","districtsSource","addSource","type","url","addLayer","styleFormula","state","layer","filter","nbrVotersLayer","highlightedState","highlightState","window","maps","undefined","figureStyle","mapStyle","numeral","format","CongressStats","congressForYear","year","require","gMargin","Graph","adjWidth","adjHeight","minCongress","maxCongress","data","keys","parseInt","rec","Object","assign","startYearForCongress","isPresElect","isPresElectYear","x","d","votersY","medianVoters","nice","nbrRepsY","nbrReps","nbrRepsLine","defined","y","axisYear","axisVoters","axisNbrReps","votersLine","lineVotersMissing","datum","attr","lineVoters","lineNbrRepsMissing","lineNbrReps","viewBox","transform","textAnchor","dy","fill","WindowWidthWatcher","breakpoints","_listeners","_callback","bind","_watchers","bp","w","matchMedia","breakpoint","addListener","forEach","removeListener","_maxWidth","maxWidth","Number","MAX_SAFE_INTEGER","matches","min","medianVotersApprox","m","factStat","App","figureWidth","updateFigureWidth","setState","winWatcher","whiteList","$","fn","tooltip","Constructor","Default","cite","document","ready","each","$elem","html","delay","hide","cleanup","fontSize","href","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.c33929f2.chunk.js","sourcesContent":["const HOTTEST_HUE = 0; // red\nconst COOLEST_HUE = 225; // blue\nconst MIN_TURNOUT = 0;\n\n/*\n    Let c = COOLEST_HUE, h = HOTTEST_HUE, t = MIN_TURNOUT, T = MAX_TURNOUT, x = turnout\n\n    c = mt + b\n    h = mT + b\n\n    c - h = mt + b - mT - b\n          = m(t - T)\n    m = (c - h)/(t - T)\n\n    c = t(c - h)/(t - T) + b\n    b = c - t(c - h)/(t - T)\n\n    H = x(c - h)/(t - T) + c - t(c - h)/(t - T)\n      = (x - t)(c - h)/(t - T) + c\n*/\n\n/*\nH ranges from COOLEST_HUE to HOTTEST_HUE.\n\nFind equation mapping turnout to hue:\n    H = m * turnout + b\n\nWe want:\n    H = COOLEST_HUE = m * MIN_TURNOUT + b\n    H = HOTTEST_HUE = m * MAX_TURNOUT + b\n\nSolve for m and B:\n    Let c = COOLEST_HUE, h = HOTTEST_HUE, t = MIN_TURNOUT, T = MAX_TURNOUT, x = turnout\n    \n    c = mt + b\n    h = mT + b\n\n    c - h = mt + b - mT - b\n          = m(t - T)\n    m = (c - h)/(t - T)\n\n    c = t(c - h)/(t - T) + b\n    b = c - t(c - h)/(t - T)\n\n    H = x(c - h)/(t - T) + c - t(c - h)/(t - T)\n      = (x - t)(c - h)/(t - T) + c\n\n    Let K = (c - h)/(t - T).\n    Let L = c - tK.\n    H = (x - t)K + c = xK - tK + c = xK + L\n\nTherefore:\n\n    K = (COOLEST_HUE - HOTTEST_HUE)/(MIN_TURNOUT - MAX_TURNOUT)\n    L = COOLEST_HUE - MIN_TURNOUT * K\n    H = turnout * K + L\n*/\n\nclass Heat {\n    constructor(maxTurnout) {\n        this.maxTurnout = maxTurnout;\n        this.K = (COOLEST_HUE - HOTTEST_HUE)/(MIN_TURNOUT - maxTurnout);\n        this.L = COOLEST_HUE - MIN_TURNOUT * this.K;\n\n        console.assert(this.hue(MIN_TURNOUT) === COOLEST_HUE);\n        console.assert(this.hue(maxTurnout) === HOTTEST_HUE);\n    }\n\n    hue(turnout) {\n        return Math.round(turnout * this.K + this.L);\n    }\n\n    styleFormula() {\n        return [\"+\", [\"*\", [\"get\", \"turnout\"], this.K], this.L];\n    }\n}\n\nexport {COOLEST_HUE, HOTTEST_HUE, MIN_TURNOUT, Heat};\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport * as d3 from 'd3';\nimport {MIN_TURNOUT, Heat} from './heat.js';\n\nconst NBR_SLOTS = 10;\nconst MARGIN = 25;\nconst BORDER_WIDTH = 1;\n\nclass HeatKey extends Component {\n    constructor(props) {\n        super(props);\n\n        this.turnouts = [];\n        const range = this.props.maxTurnout - MIN_TURNOUT;\n        const delta = range/NBR_SLOTS;\n        for (let i = 0; i <= NBR_SLOTS; ++i) {\n            const t = i * delta;\n            this.turnouts.push(t);\n        }\n    }\n\n    componentDidMount() {\n        this.drawNumberLine();\n    }\n\n    drawNumberLine() {\n        if (!this.g) {\n            return;\n        }\n\n        // remove existing SVG\n        const g = d3.select(this.g);\n        g.selectAll('*').remove();\n\n        // draw it\n        const turnouts = d3.scaleLinear()\n            .domain([d3.min(this.turnouts), d3.max(this.turnouts)])\n            .range([MARGIN + BORDER_WIDTH, this.props.width - MARGIN - BORDER_WIDTH]);\n        g.call(d3.axisBottom(turnouts));\n    }\n\n    render() {\n        // make background gradient\n        const heat = new Heat(this.props.maxTurnout);\n        const colors = this.turnouts.map(t => `hsl(${heat.hue(t)}, 100%, 50%)`);\n        const bgColorCss = `linear-gradient(to right, ${_.join(colors, ', ')})`;\n        const keyStyle = {\n            background: bgColorCss,\n            border: `${BORDER_WIDTH}px solid black`,\n            height: '10px',\n            marginLeft: MARGIN,\n            marginRight: MARGIN,\n        };\n        this.drawNumberLine();\n        return (\n            <div style={{width: this.props.width}}>\n                <div className=\"heat-key\" style={keyStyle} />\n                <svg className=\"heat-key-legend\" width={this.props.width} height={20}>\n                    <g ref={el => this.g = el} />\n                </svg>\n            </div>\n        );\n    }\n}\n\nexport {HeatKey};\n","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport numeral from 'numeral';\nimport {Heat} from './heat.js';\nimport {HeatKey} from './HeatKey.js';\nimport './Map.css';\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZHNoZWFyZXIiLCJhIjoiY2syam1qaThuMTEzazNsbnZxNHhidnZqcyJ9.Q0wOV0EePfEaRyw1oEK3UA';\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\n\nconst gNbrVotersLayerName = 'nbr-voters';\nconst gHighlightStateLayerName = 'highlight-state';\n\nconst gDistrictBoundaryLayer = {\n    \"id\": \"district-boundary\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"districts\",\n    \"source-layer\": \"districts\",\n    \"filter\": [\n        \"all\",\n        [\n          \"match\",\n          [\"get\", \"group\"],\n          [\"boundary\"],\n          true,\n          false\n        ]\n      ],\n    \"layout\": {\"line-join\": \"round\", \"line-cap\": \"round\"},\n    \"paint\": {\n        \"line-dasharray\": [\n            \"step\",\n            [\"zoom\"],\n            [\"literal\", [2, 0]],\n            7,\n            [\"literal\", [2, 2, 6, 2]]\n        ],\n        \"line-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            0.75,\n            12,\n            1.5\n        ],\n        \"line-opacity\": [\"step\", [\"zoom\"], 0, 5, 1],\n        \"line-color\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            3,\n            \"hsl(0, 0%, 80%)\",\n            7,\n            \"hsl(0, 0%, 70%)\"\n        ]\n    }\n};\n\nconst gStateBoundaryLayer = {\n    \"id\": \"admin-1-boundary\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"boundary\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\"line-join\": \"round\", \"line-cap\": \"round\"},\n    \"paint\": {\n        \"line-dasharray\": [\n            \"step\",\n            [\"zoom\"],\n            [\"literal\", [2, 0]],\n            7,\n            [\"literal\", [2, 2, 6, 2]]\n        ],\n        \"line-width\": 2,\n        \"line-opacity\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            2,\n            0,\n            3,\n            1\n        ],\n        \"line-color\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            3,\n            \"hsl(0, 0%, 80%)\",\n            7,\n            \"hsl(0, 0%, 70%)\"\n        ]\n    }\n};\n\nconst gStateBoundaryBgLayer = {\n    \"id\": \"admin-1-boundary-bg\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"boundary\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\"line-join\": \"bevel\"},\n    \"paint\": {\n        \"line-blur\": [\"interpolate\", [\"linear\"], [\"zoom\"], 3, 0, 8, 3],\n        \"line-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            3.75,\n            12,\n            5.5\n        ],\n        \"line-opacity\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            0,\n            8,\n            0.75\n        ],\n        \"line-dasharray\": [1, 0],\n        \"line-translate\": [0, 0],\n        \"line-color\": \"hsl(0, 0%, 84%)\"\n    }\n};\n\nconst gStateLabelLayer = {\n    \"id\": \"state-label\",\n    \"type\": \"symbol\",\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"minzoom\": 3,\n    \"maxzoom\": 5,\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"label\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\n        \"text-size\": [\n            \"interpolate\",\n            [\"cubic-bezier\", 0.85, 0.7, 0.65, 1],\n            [\"zoom\"],\n            4,\n            [\"step\", [\"get\", \"symbolrank\"], 10, 6, 9.5, 7, 9],\n            9,\n            [\"step\", [\"get\", \"symbolrank\"], 24, 6, 18, 7, 14]\n        ],\n        \"text-transform\": \"uppercase\",\n        \"text-font\": [\"DIN Offc Pro Bold\", \"Arial Unicode MS Bold\"],\n        \"text-field\": [\"get\", \"titleShort\"],\n        \"text-letter-spacing\": 0.15,\n        \"text-max-width\": 6\n    },\n    \"paint\": {\n        \"text-halo-width\": 1,\n        \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n        \"text-color\": \"hsl(0, 0%, 66%)\"\n    }\n};\n\nfunction nbrVotersLayer(state) {\n    const layer = {\n        \"id\": gNbrVotersLayerName,\n        \"type\": \"symbol\",\n        \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n        \"source\": \"districts\",\n        \"source-layer\": \"districts\",\n        \"minzoom\": 5,\n        \"maxzoom\": 9,\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"label\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"]\n          ],\n        \"layout\": {\n            \"text-size\": [\n                \"interpolate\",\n                [\n                  \"cubic-bezier\",\n                  0.85,\n                  0.7,\n                  0.65,\n                  1\n                ],\n                [\"zoom\"],\n                5,\n                10,\n                9,\n                [\n                  \"step\",\n                  [\"get\", \"symbolrank\"],\n                  24,\n                  3,\n                  14,\n                  6,\n                  18\n                ]\n              ],\n            \"text-transform\": \"none\",\n            \"text-font\": [\"DIN Offc Pro Regular\", \"Arial Unicode MS Regular\"],\n            \"text-field\": [\n                \"step\",\n                [\"zoom\"],\n                \"\",\n                5,\n                [\"get\", \"turnoutStr\"]\n              ],\n            \"text-letter-spacing\": 0.15,\n            \"text-max-width\": 10,\n            \"text-allow-overlap\": true,\n            \"text-offset\": [0, 0.75]\n        },\n        \"paint\": {\n            \"text-halo-width\": 1,\n            \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n            \"text-color\": \"hsl(0, 0%, 29%)\"\n        }\n    };\n    if (state) {\n        layer.filter.push([\"match\", [\"get\", \"state\"], [state], true, false]);\n    }\n    return layer;\n}\n\nfunction districtBackgroundLayer(hueStyleFormula) {\n    const layer = {\n        \"id\": gHighlightStateLayerName,\n        \"type\": \"fill\",\n        \"source\": \"districts\",\n        \"source-layer\": \"districts\",\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"boundary\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"],\n        ],\n        \"paint\": {\n            \"fill-color\": [\n                \"concat\",\n                \"hsl(\",\n                [\"to-string\", hueStyleFormula],\n                \", 100%, 50%)\",\n            ],\n            \"fill-opacity\": 0.2,\n            \"fill-antialias\": false\n        },\n    };\n    return layer;\n}\n\nclass Map extends Component {\n    getZoom() {\n        var v = 0.0044 * this.props.width + 0.432;\n        if (this.props.zoom) {\n            v += this.props.zoom;\n        }\n        return v;\n    }\n\n    componentDidUpdate() {\n        if (this.map) {\n            this.map.resize();\n            this.map.setMinZoom(this.getZoom());\n            this.map.setZoom(this.getZoom());\n        }\n    }\n\n    componentDidMount() {\n        // mapboxgl.clearStorage();\n\n        const opts = {\n            container: this.mapContainer,\n            maxPitch: 0,\n            touchPitch: false,\n            dragRotate: false,\n            center: [-96.429, 38.3],\n            zoom: this.getZoom(),\n            minZoom: this.getZoom(),\n        };\n        if (this.props.center) {\n            opts.center = this.props.center;\n        }\n        this.map = new mapboxgl.Map(opts);\n\n        this.map.setStyle('mapbox://styles/dshearer/ckbu2kkj1030b1io3jfo1ykiq');\n        \n        this.map.on('style.load', () => {\n            const statesSource = `mapbox://dshearer.states-${this.props.congress}`;\n            const districtsSource = `mapbox://dshearer.districts-${this.props.congress}`;\n\n            this.map.addSource('states', {\n                type: 'vector',\n                url: statesSource,\n            });\n            this.map.addSource('districts', {\n                type: 'vector',\n                url: districtsSource,\n            });\n\n            this.map.addLayer(gStateLabelLayer);\n            this.map.addLayer(gStateBoundaryBgLayer);\n            this.map.addLayer(gStateBoundaryLayer);\n            this.map.addLayer(gDistrictBoundaryLayer);\n            this.map.addLayer(districtBackgroundLayer(new Heat(this.props.maxTurnout).styleFormula()));\n            this.map.addLayer(nbrVotersLayer());\n    \n            this.highlightedState = this.props.highlightState;\n        });\n\n        if (!window.maps) {\n            window.maps = [];\n        }\n        window.maps.push(this.map);\n    }\n\n    componentWillUnmount() {\n        if (this.map) {\n            this.map.remove();\n            this.map = undefined;\n        }\n    }\n\n    render() {\n        const dimensRatio = 2; // width/height\n        const height = this.props.width/dimensRatio;\n        const figureStyle = {width: this.props.width};\n        const mapStyle = {width: this.props.width, height: height};\n        return (\n            <figure className=\"map figure\" style={figureStyle}>\n                <div ref={el => this.mapContainer = el} style={mapStyle} />\n                <HeatKey width={this.props.width} maxTurnout={this.props.maxTurnout} />\n                <figcaption className=\"figure-caption text-center\">\n                Heatmap of number of voters per district for\n                the {numeral(this.props.congress).format('0o')} Congress. (Zoom in to see\n                the numbers.)</figcaption>\n            </figure>\n        );\n    }\n}\n\nexport {Map};","/* Generated by compute-stats */\nconst CongressStats = {\"1\":{\"maxVoters\":3179,\"medianVoters\":1471,\"minVoters\":554,\"nbrReps\":44},\"10\":{\"maxVoters\":7745,\"medianVoters\":4353,\"minVoters\":1333,\"nbrReps\":125},\"100\":{\"maxVoters\":289723,\"medianVoters\":142912,\"minVoters\":46058,\"nbrReps\":435},\"101\":{\"maxVoters\":315609,\"medianVoters\":199674,\"minVoters\":94151,\"nbrReps\":435},\"102\":{\"maxVoters\":292852,\"medianVoters\":151459,\"minVoters\":47860,\"nbrReps\":435},\"103\":{\"maxVoters\":403735,\"medianVoters\":232838.5,\"minVoters\":50779,\"nbrReps\":435},\"104\":{\"maxVoters\":352133,\"medianVoters\":169280,\"minVoters\":41508,\"nbrReps\":435},\"105\":{\"maxVoters\":314164,\"medianVoters\":215136,\"minVoters\":57828,\"nbrReps\":435},\"106\":{\"maxVoters\":297701,\"medianVoters\":161627,\"minVoters\":47631,\"nbrReps\":435},\"107\":{\"maxVoters\":357418,\"medianVoters\":229761,\"minVoters\":71571,\"nbrReps\":435},\"108\":{\"maxVoters\":296218,\"medianVoters\":174454.5,\"minVoters\":58593,\"nbrReps\":435},\"109\":{\"maxVoters\":407291,\"medianVoters\":272049,\"minVoters\":83124,\"nbrReps\":435},\"11\":{\"maxVoters\":5406,\"medianVoters\":4711,\"minVoters\":2404,\"nbrReps\":129},\"110\":{\"maxVoters\":315180,\"medianVoters\":192300,\"minVoters\":50550,\"nbrReps\":435},\"111\":{\"maxVoters\":433632,\"medianVoters\":291903,\"minVoters\":66882,\"nbrReps\":435},\"112\":{\"maxVoters\":331258,\"medianVoters\":203383,\"minVoters\":66948,\"nbrReps\":435},\"113\":{\"maxVoters\":421580,\"medianVoters\":287238,\"minVoters\":95611,\"nbrReps\":435},\"114\":{\"maxVoters\":345945,\"medianVoters\":179057,\"minVoters\":46143,\"nbrReps\":435},\"115\":{\"maxVoters\":457312,\"medianVoters\":307129.5,\"minVoters\":126369,\"nbrReps\":435},\"12\":{\"maxVoters\":13038,\"medianVoters\":4787.5,\"minVoters\":2465,\"nbrReps\":122},\"13\":{\"maxVoters\":5278,\"medianVoters\":3705,\"minVoters\":2528,\"nbrReps\":174},\"14\":{\"maxVoters\":7250,\"medianVoters\":6009.5,\"minVoters\":4584,\"nbrReps\":171},\"15\":{\"maxVoters\":9360,\"medianVoters\":5332,\"minVoters\":460,\"nbrReps\":166},\"16\":{\"maxVoters\":9116,\"medianVoters\":6963.5,\"minVoters\":2376,\"nbrReps\":170},\"17\":{\"maxVoters\":61316,\"medianVoters\":4239.5,\"minVoters\":1844,\"nbrReps\":173},\"18\":{\"maxVoters\":9024,\"medianVoters\":4399,\"minVoters\":473,\"nbrReps\":193},\"19\":{\"maxVoters\":10471,\"medianVoters\":3406,\"minVoters\":890,\"nbrReps\":198},\"2\":{\"maxVoters\":6709,\"medianVoters\":2018.5,\"minVoters\":702,\"nbrReps\":58},\"20\":{\"nbrReps\":197},\"21\":{\"nbrReps\":194},\"22\":{\"nbrReps\":191},\"23\":{\"nbrReps\":222},\"24\":{\"nbrReps\":217},\"25\":{\"nbrReps\":230},\"26\":{\"nbrReps\":229},\"27\":{\"nbrReps\":230},\"28\":{\"nbrReps\":214},\"29\":{\"nbrReps\":224},\"3\":{\"maxVoters\":3423,\"medianVoters\":2265,\"minVoters\":1453,\"nbrReps\":77},\"30\":{\"nbrReps\":236},\"31\":{\"nbrReps\":241},\"33\":{\"nbrReps\":239},\"34\":{\"nbrReps\":236},\"35\":{\"nbrReps\":242},\"36\":{\"nbrReps\":241},\"38\":{\"nbrReps\":187},\"39\":{\"nbrReps\":202},\"4\":{\"maxVoters\":4454,\"medianVoters\":2071,\"minVoters\":720},\"40\":{\"nbrReps\":234},\"41\":{\"nbrReps\":259},\"42\":{\"nbrReps\":256},\"43\":{\"nbrReps\":291},\"44\":{\"nbrReps\":307},\"45\":{\"nbrReps\":305},\"46\":{\"nbrReps\":303},\"48\":{\"nbrReps\":331},\"49\":{\"nbrReps\":334},\"5\":{\"maxVoters\":6008,\"medianVoters\":2069,\"minVoters\":337,\"nbrReps\":94},\"50\":{\"nbrReps\":331},\"51\":{\"nbrReps\":354},\"52\":{\"nbrReps\":346},\"53\":{\"nbrReps\":368},\"54\":{\"nbrReps\":364},\"55\":{\"nbrReps\":363},\"56\":{\"nbrReps\":371},\"57\":{\"nbrReps\":365},\"6\":{\"maxVoters\":5184,\"medianVoters\":3400.5,\"minVoters\":450,\"nbrReps\":96},\"60\":{\"nbrReps\":396},\"61\":{\"nbrReps\":435},\"62\":{\"nbrReps\":435},\"63\":{\"nbrReps\":435},\"64\":{\"nbrReps\":435},\"65\":{\"nbrReps\":435},\"66\":{\"nbrReps\":435},\"67\":{\"nbrReps\":435},\"68\":{\"nbrReps\":435},\"69\":{\"nbrReps\":435},\"7\":{\"maxVoters\":6629,\"medianVoters\":3613,\"minVoters\":205,\"nbrReps\":92},\"70\":{\"nbrReps\":435},\"71\":{\"nbrReps\":435},\"72\":{\"nbrReps\":435},\"73\":{\"nbrReps\":435},\"74\":{\"nbrReps\":435},\"75\":{\"nbrReps\":435},\"76\":{\"nbrReps\":435},\"77\":{\"nbrReps\":435},\"78\":{\"nbrReps\":435},\"79\":{\"nbrReps\":435},\"8\":{\"maxVoters\":5398,\"medianVoters\":4288,\"minVoters\":2401},\"80\":{\"nbrReps\":435},\"81\":{\"nbrReps\":435},\"82\":{\"nbrReps\":435},\"83\":{\"nbrReps\":435},\"84\":{\"nbrReps\":435},\"85\":{\"nbrReps\":435},\"86\":{\"nbrReps\":435},\"87\":{\"nbrReps\":435},\"88\":{\"nbrReps\":435},\"89\":{\"nbrReps\":435},\"9\":{\"maxVoters\":6338,\"medianVoters\":3374,\"minVoters\":1851,\"nbrReps\":120},\"90\":{\"nbrReps\":435},\"91\":{\"nbrReps\":435},\"92\":{\"nbrReps\":435},\"93\":{\"nbrReps\":435},\"94\":{\"nbrReps\":435},\"95\":{\"maxVoters\":276300,\"medianVoters\":176194,\"minVoters\":80625,\"nbrReps\":435},\"96\":{\"maxVoters\":252378,\"medianVoters\":131910,\"minVoters\":24449,\"nbrReps\":435},\"97\":{\"maxVoters\":345039,\"medianVoters\":179622,\"minVoters\":32758,\"nbrReps\":435},\"98\":{\"maxVoters\":247965,\"medianVoters\":155316.5,\"minVoters\":67479,\"nbrReps\":435},\"99\":{\"maxVoters\":287765,\"medianVoters\":203857,\"minVoters\":100940,\"nbrReps\":435}}\n;\nexport {CongressStats};\n","const gFirstCongressStartYear = 1789;\n\nfunction startYearForCongress(congress) {\n    return gFirstCongressStartYear + 2*(congress-1);\n}\n\nfunction congressForYear(year) {\n    if (year < gFirstCongressStartYear) {\n        return undefined;\n    }\n\tif (year%2 === 0) {\n\t\t--year;\n\t}\n\treturn (year-1789)/2 + 1;\n}\n\nexport {startYearForCongress, congressForYear};","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport {CongressStats} from './stats.js';\nimport {startYearForCongress} from './congress.js';\nimport './Graph.css';\nconst _ = require('lodash');\n\nfunction isPresElectYear(year) {\n    const delta = year - 1789;\n    return delta%4 === 0;\n}\n\nconst gMargin = {top: 10, right: 50, bottom: 40, left: 70};\n\nclass Graph extends Component {\n    componentDidMount() {\n        const adjWidth = 500 - gMargin.left - gMargin.right;\n        const adjHeight = 250 - gMargin.top - gMargin.bottom;\n\n        // prepare data\n        var minCongress = this.props.minCongress;\n        if (minCongress === undefined) {\n            minCongress = 1\n        }\n        var maxCongress = this.props.maxCongress;\n        if (maxCongress === undefined) {\n            maxCongress = 1000;\n        }\n        const data = _.keys(CongressStats)\n            .filter(congress => parseInt(congress) >= minCongress)\n            .filter(congress => parseInt(congress) <= maxCongress)\n            .map(congress => {\n                const rec = Object.assign({}, CongressStats[congress]);\n                const year = startYearForCongress(parseInt(congress));\n                rec.year = d3.timeParse('%Y')(year);\n                rec.isPresElect = isPresElectYear(year);\n                return rec;\n            });\n\n        // make the lines\n        const x = d3.scaleUtc()\n            .domain(d3.extent(data, d => d.year))\n            .range([ 0, adjWidth ]);\n        const votersY = d3.scaleLinear()\n            .domain([0, d3.max(data, d => d.medianVoters)]).nice()\n            .range([ adjHeight, 0 ]);\n        const nbrRepsY = d3.scaleLinear()\n            .domain([0, d3.max(data, d => d.nbrReps)]).nice()\n            .range([ adjHeight, 0 ]);\n        const nbrRepsLine = d3.line()\n            .defined(d => d.nbrReps !== undefined)\n            .x(d => x(d.year))\n            .y(d => nbrRepsY(d.nbrReps));\n\n        // make the axes\n        d3.select(this.axisYear).call(d3.axisBottom(x));\n        d3.select(this.axisVoters).call(d3.axisLeft(votersY));\n        d3.select(this.axisNbrReps).call(d3.axisRight(nbrRepsY));\n\n        const votersLine = d3.line()\n            .defined(d => d.medianVoters !== undefined)\n            .x(d => x(d.year))\n            .y(d => votersY(d.medianVoters));\n        d3.select(this.lineVotersMissing)\n            .datum(data.filter(votersLine.defined()))\n            .attr(\"d\", votersLine);\n        d3.select(this.lineVoters)\n            .datum(data)\n            .attr(\"d\", votersLine);\n\n        d3.select(this.lineNbrRepsMissing)\n            .datum(data.filter(nbrRepsLine.defined()))\n            .attr(\"d\", nbrRepsLine);\n        d3.select(this.lineNbrReps)\n            .datum(data)\n            .attr(\"d\", nbrRepsLine);\n    }\n\n    render() {\n        const adjWidth = 500 - gMargin.left - gMargin.right;\n        const adjHeight = 250 - gMargin.top - gMargin.bottom;\n\n        return (\n            <svg width={this.props.width} \n                height={this.props.height} viewBox=\"0 0 500 250\">\n                <g transform={`translate(${gMargin.left}, ${gMargin.top})`}>\n                    <g transform={`translate(0, ${adjHeight})`} \n                        ref={el => this.axisYear = el} />\n\n                    <g className=\"axisVoters\" ref={el => this.axisVoters = el} />\n\n                    <g className=\"axisNbrReps\" \n                        transform={`translate(${adjWidth}, 0)`} \n                        ref={el => this.axisNbrReps = el} />\n\n                    <text className=\"axisVotersLabel\" \n                        transform=\"rotate(-90)\"\n                        textAnchor=\"middle\"\n                        x={-adjHeight/2}\n                        y={-gMargin.left}\n                        dy=\"1em\">Median turnout per congressperson</text>\n\n                    <text className=\"axisNbrRepsLabel\" \n                        transform=\"rotate(90)\"\n                        textAnchor=\"middle\"\n                        x={adjHeight/2}\n                        y={-adjWidth - 55}\n                        dy=\"1em\">Number of congresspeople</text>\n\n                    <path className=\"lineMissing\" fill=\"none\"\n                        ref={el => this.lineVotersMissing = el} />\n                    <path className=\"lineVoters\" fill=\"none\"\n                        ref={el => this.lineVoters = el} />\n                    \n                    <path className=\"lineMissing\" fill=\"none\"\n                        ref={el => this.lineNbrRepsMissing = el} />\n                    <path className=\"lineNbrReps\" fill=\"none\"\n                        ref={el => this.lineNbrReps = el} />\n                </g>\n            </svg>\n        );\n    }\n\n}\n\nexport {Graph};","class WindowWidthWatcher {\n    constructor(breakpoints) {\n        this.breakpoints = breakpoints;\n        this._listeners = [];\n        this._callback = this._callback.bind(this);\n\n        this._watchers = [];\n        for (const bp of breakpoints) {\n            const w = window.matchMedia(`(max-width: ${bp}px)`);\n            w.breakpoint = bp;\n            w.addListener(this._callback);\n            this._watchers.push(w);\n        }\n    }\n\n    cleanup() {\n        this._watchers.forEach(w => w.removeListener(this._callback));\n    }\n\n    _callback() {\n        this._listeners.forEach(L => L(this._maxWidth()));\n    }\n\n    _maxWidth() {\n        var maxWidth = Number.MAX_SAFE_INTEGER;\n        for (const w of this._watchers) {\n            if (w.matches) {\n                maxWidth = Math.min(maxWidth, w.breakpoint);\n            }\n        }\n        return maxWidth;\n    }\n\n    addListener(L) {\n        L(this._maxWidth());\n        this._listeners.push(L);\n    }\n}\n\nexport {WindowWidthWatcher};\n","import React, { Component } from 'react';\nimport numeral from 'numeral';\nimport $ from 'jquery';\nimport 'bootstrap';\nimport {Map} from './Map.js';\nimport {Graph} from './Graph.js';\nimport './App.css';\nimport {congressForYear} from './congress.js';\nimport {CongressStats} from './stats.js';\nimport {WindowWidthWatcher} from './windowWidthWatcher.js';\n\nfunction medianVoters(congress) {\n  const factStat = CongressStats[''+congress];\n  console.assert(factStat !== undefined);\n  return factStat.medianVoters;\n}\n\nfunction medianVotersApprox(congress) {\n  const m = medianVoters(congress);\n  const factor = 100;\n  const tmp = Math.round(m/factor);\n  return tmp*factor;\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {figureWidth: 500};\n\n    this.updateFigureWidth = this.updateFigureWidth.bind(this);\n  }\n\n  updateFigureWidth(maxWidth) {\n    const padding = 30;\n    const w = Math.min(maxWidth, 500) - padding;\n    this.setState({figureWidth: w});\n  }\n\n  componentDidMount() {\n    this.winWatcher = new WindowWidthWatcher([320, 360, 375, 411, 414]);\n    this.winWatcher.addListener(this.updateFigureWidth);\n\n    // footnotes\n    const whiteList = $.fn.tooltip.Constructor.Default.whiteList;\n    whiteList.cite = [];\n    $(document).ready(() => {\n      $('[data-toggle=\"tooltip\"]').each(function() {\n        var $elem = $(this);\n        $elem.tooltip({\n            html: true,\n            container: $elem,\n            delay: {hide: 400},\n            whiteList: whiteList,\n        });\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.winWatcher.cleanup();\n  }\n\n  render() {\n    return (\n      <div>\n        {/* <section className=\"mx-3\">\n          <p>You are represented in the House of Representatives\n          by <strong>one</strong> person.</p>\n\n          <p>You share this person with about <strong>300,000</strong>\n          &nbsp;active voters.</p>\n\n          <p>Is your voice <em>really</em> heard?</p>\n        </section> */}\n\n        <section className=\"container\">\n          <h2>Intro</h2>\n\n          <p>\n            For a representative government to be truly democratic, there must at least be a chance that the\n            average citizen could, if needed, get the attention of his or her representative.\n            If that representative had, say, ten constituents, then that is certainly the case.\n            With 100 or 1,000 it would be a bit harder, but it's doable.\n          </p>\n\n          <p>What if that representative had 700,000 constituents?</p>\n\n          <p>\n            In 2010 (the last time districts were drawn), the average district size\n            was <strong>710,767</strong>. Montana&rsquo;s single district \n            had <strong>994,416</strong> people. With such large districts,\n            in what sense does a member of Congress represent anyone?\n          </p>\n\n          <h2>How Did It Get This Way?</h2>\n\n          <p>\n            Comparing the ways representation in the House has worked over our history is difficult, due to \n            the changing availability of the franchise, the infamous &ldquo;three-fifths&rdquo; clause, and\n            the fact that, until 1971, states could have multiple congresspeople per district, or some\n            congresspeople assigned to districts and others to the whole state.\n          </p>\n\n          <p>\n            We get around these problems by focusing on the property of <em>representative burden</em> &mdash; how\n            many people was the average congressperson worried about pleasing? &mdash; and just ignoring those\n            districts where this property is not defined (e.g., districts with multiple congresspeople).\n            We measure representative burden with election turnout: if a congressperson was elected in an election\n            that had 20,000 people turn out to vote, we assume that this is the approximate number of people\n            that might be inclined to bother the congressperson with their thoughts and concerns. The numbers\n            of voters presented below come from turnout and exclude all districts from states that do not use\n            single-member districts exclusively.\n          </p>\n\n          <p className=\"lead\">\n            In the beginning, the House of Representatives expanded\n            along with population.\n          </p>\n\n          <p>\n            Here are the numbers for the first twenty Congresses:\n          </p>\n\n          <div className=\"text-center\">\n            <Graph width={this.state.figureWidth*1.2} height={(this.state.figureWidth*1.2)/2}\n              maxCongress={20} />\n          </div>\n\n          <p>\n            As measured by turnout, district sizes did tend to increase, but so did the size of the House.\n          </p>\n\n          <p>\n            Below are maps showing the districts, and their turnouts if you zoom in, for the 1st (1789) and\n            15th (1817) Congresses. Zoom in on New York, and you can see how turnout was kept at roughly\n            the same level by giving this state more congresspeople.\n          </p>\n\n          <div className=\"d-flex justify-content-center\">\n            <div className=\"mx-1\">\n              <Map congress={1}\n                width={this.state.figureWidth}\n                zoom={0.75}\n                center={[-81.105, 38.807]}\n                maxTurnout={800} />\n            </div>\n            <div className=\"mx-1\">\n              <Map congress={15}\n                width={this.state.figureWidth}\n                zoom={0.75}\n                center={[-81.105, 38.807]}\n                maxTurnout={800} />\n            </div>\n          </div>\n\n          <p>\n            We don&rsquo;t have turnout data for elections after 1825 and before the 1970s,\n            so let&rsquo;s jump to the present day and look at the big picture:\n          </p>\n\n          <div className=\"text-center\">\n            <Graph width={this.state.figureWidth*1.2} height={(this.state.figureWidth*1.2)/2} />\n          </div>\n\n          <p>Two things to note:</p>\n          <ul>\n            <li>The total number of congresspeople stopped increasing in the early 20th century</li>\n            <li>The representative burden in the 20th century is <em>much</em> greater than it was in the\n            18th and 19th centuries</li>\n          </ul>\n\n          <p className=\"lead center\">\n            In <strong>1922</strong>, Congress froze the House at <strong>435</strong> congresspeople.\n          </p>\n\n          <p>\n            And that&rsquo;s where it has remained, while the population of our country grew.\n          </p>\n\n          <p>Let&rsquo;s compare the representative burden of 1817 with that of 2013:</p>\n\n          <div className=\"d-flex justify-content-center\">\n            <div className=\"mx-1\">\n              <Map congress={congressForYear(1817)}\n                width={this.state.figureWidth}\n                maxTurnout={400000} />\n            </div>\n            <div className=\"mx-1\">\n              <Map congress={congressForYear(2013)}\n                width={this.state.figureWidth}\n                maxTurnout={400000} />\n            </div>\n          </div>\n\n          <p>\n            As stated above, the median turnout per congressperson in 1817\n            is {numeral(medianVotersApprox(congressForYear(1817))).format('0,0')}.\n            In 2013 it was {numeral(medianVotersApprox(congressForYear(2013))).format('0,0')}.\n          </p>\n\n          <p>\n            The representative burden for members of Congress is now much, much greater than\n            it was during the early sessions of Congress, and it has only increased\n            since the size of the House was frozen. <strong>The House of Representatives must be\n            expanded to match the size of our country, </strong> so that Americans can once again\n            have a voice in their government.\n          </p>\n        </section>\n\n        <section className=\"container\" style={{fontSize: '85%'}}>\n          <h2 style={{fontSize: '115%'}}>Sources</h2>\n\n          <p>\n            District boundary data comes from <cite><a href=\"http://cdmaps.polisci.ucla.edu/\">Digital Boundary\n            Definitions of United States Congressional Districts, 1789-2012</a></cite>, by\n            Jeffrey B. Lewis, Brandon DeVine, Lincoln Pitcher, and Kenneth C. Martis.\n          </p>\n\n          <p>\n            State boundary data comes from <cite><a href=\"https://publications.newberry.org/ahcbp/index.html\">\n            Atlas of Historical County Boundaries</a></cite>, by The Newberry.\n          </p>\n\n          <p>\n            18th- and 19th-century turnout data comes from <cite><a href=\"https://elections.lib.tufts.edu/\">\n            Lampi Collection of American Electoral Returns, 1787–1825</a></cite>, by the American\n            Antiquarian Society.\n          </p>\n\n          <p>\n            20th- and 21st-century turnout data comes from <cite><a href=\"https://doi.org/10.7910/DVN/IG0UN2\">\n            U.S. House 1976–2018</a></cite>, by the MIT Election Data and Science Lab.\n          </p>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}