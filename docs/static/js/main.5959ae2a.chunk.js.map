{"version":3,"sources":["utils.js","congressNbrToStyleId.js","congress.js","Map.js","MapWithPicker.js","stats.js","Graph.js","App.js","serviceWorker.js","index.js"],"names":["ordinal","number","suffix","suffixes","A","startYearForCongress","congress","congressForYear","year","mapboxgl","accessToken","gDistrictBoundaryLayer","gStateBoundaryLayer","gStateBoundaryBgLayer","gStateLabelLayer","Map","clearStorage","opts","container","this","mapContainer","maxPitch","touchPitch","dragRotate","undefined","props","center","zoom","map","setStyle","on","statesSource","districtsSource","console","log","addSource","type","url","addLayer","state","layer","filter","push","districtBackgroundLayer","nbrVotersLayer","highlightedState","highlightState","remove","ref","el","style","margin","Component","CongressStats","_","require","medianVoters","factStat","assert","voters","nbrReps","App","usCenter","className","numeral","format","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5959ae2a.chunk.js","sourcesContent":["// turns 1 into '1st', etc.\nfunction ordinal(number) {\n    if (number < 0) {\n      throw 'Ordinal got negative number';\n    }\n    const suffixes = ['th', 'st', 'nd', 'rd', 'th', 'th', 'th', 'th', 'th', 'th'];\n    var suffix;\n    if (((number % 100) === 11) || ((number % 100) === 12) || ((number % 100) === 13)) {\n      suffix = suffixes[0];\n    }\n    else {\n      suffix = suffixes[number % 10];\n    }\n    return `${number}${suffix}`;\n}\n\nexport {ordinal};","/* Generated by get-styles.js */\n        const A = {\"1\":\"ckbsxgcv10cgs1jq63cjudtph\",\"2\":\"ckbsxgd7k0cfr1irzhk3qknhf\",\"3\":\"ckbsxgcxk0aq71imh5cjs1bdm\",\"4\":\"ckbsxgd900chl1jla6l7ad614\",\"5\":\"ckbsxgdll0ch51io45er7jmc2\",\"6\":\"ckbsxgdde0cfx1hmikgk2vj2g\",\"7\":\"ckbsxgds80ceq1ilfgkmvnnli\",\"8\":\"ckbsxgdci0cgh1ip7y8rxhzk1\",\"9\":\"ckbsxgd330cfy1imx2vgfw41x\",\"10\":\"ckbsxgdkb0cg11imx8zh8dsjw\",\"11\":\"ckbsxgdjl0cht1hmq5pzgqe15\",\"12\":\"ckbsxgdus0ch61io4y6t5ebjt\",\"13\":\"ckbsxgbkm0ce61ipn6wkpsr2r\",\"14\":\"ckbsxgdbh0chq1hmqqobj6k3o\",\"15\":\"ckbsxgddt0cen1ilf2ysj0mk3\",\"16\":\"ckbsxgdnk0bop1ipwvgq29hzn\",\"17\":\"ckbsxgddp0chk1ipb7yktxj5q\",\"18\":\"ckbsxgdp40chm1ipb43hlr9oc\",\"19\":\"ckbsxgbto0chx1ipj0za1kq2w\",\"20\":\"ckbsxgdkz0chl1ipbk9avbvej\",\"95\":\"ckbsxfkm80cha1ipj2ggmxrqz\",\"96\":\"ckbsxfklp0ch91ipjhw8v3kir\",\"97\":\"ckbsxfkt30cfx1jq6t9hetjco\",\"98\":\"ckbsxfknn0ce71ipd7vfzim9p\",\"99\":\"ckbsxfki50cf71imx4jiwed5o\",\"100\":\"ckbsxfkmz0cf61hmiprnu9140\",\"110\":\"ckbszkg6h0eg91ioxdnemkxnv\",\"generic\":\"ckbu2kkj1030b1io3jfo1ykiq\"};\n        export default A;","const gFirstCongressStartYear = 1789;\n\nfunction startYearForCongress(congress) {\n    return gFirstCongressStartYear + 2*(congress-1);\n}\n\nfunction congressForYear(year) {\n    if (year < gFirstCongressStartYear) {\n        return undefined;\n    }\n\tif (year%2 === 0) {\n\t\t--year;\n\t}\n\treturn (year-1789)/2 + 1;\n}\n\nexport {startYearForCongress, congressForYear};","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport {ordinal} from './utils.js';\nimport './Map.css';\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZHNoZWFyZXIiLCJhIjoiY2syam1qaThuMTEzazNsbnZxNHhidnZqcyJ9.Q0wOV0EePfEaRyw1oEK3UA';\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\n\nconst gNbrVotersLayerName = 'nbr-voters';\nconst gHighlightStateLayerName = 'highlight-state';\nconst gDistrictLabelLayerName = 'district-label';\nconst gStateLabelLayerName = 'state-label';\n\nconst gDistrictBoundaryLayer = {\n    \"id\": \"district-boundary\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"districts\",\n    \"source-layer\": \"districts\",\n    \"filter\": [\n        \"all\",\n        [\n          \"match\",\n          [\"get\", \"group\"],\n          [\"boundary\"],\n          true,\n          false\n        ]\n      ],\n    \"layout\": {\"line-join\": \"round\", \"line-cap\": \"round\"},\n    \"paint\": {\n        \"line-dasharray\": [\n            \"step\",\n            [\"zoom\"],\n            [\"literal\", [2, 0]],\n            7,\n            [\"literal\", [2, 2, 6, 2]]\n        ],\n        \"line-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            0.75,\n            12,\n            1.5\n        ],\n        \"line-opacity\": [\"step\", [\"zoom\"], 0, 5, 1],\n        \"line-color\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            3,\n            \"hsl(0, 0%, 80%)\",\n            7,\n            \"hsl(0, 0%, 70%)\"\n        ]\n    }\n};\n\nconst gStateBoundaryLayer = {\n    \"id\": \"admin-1-boundary\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"boundary\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\"line-join\": \"round\", \"line-cap\": \"round\"},\n    \"paint\": {\n        \"line-dasharray\": [\n            \"step\",\n            [\"zoom\"],\n            [\"literal\", [2, 0]],\n            7,\n            [\"literal\", [2, 2, 6, 2]]\n        ],\n        \"line-width\": 2,\n        \"line-opacity\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            2,\n            0,\n            3,\n            1\n        ],\n        \"line-color\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            3,\n            \"hsl(0, 0%, 80%)\",\n            7,\n            \"hsl(0, 0%, 70%)\"\n        ]\n    }\n};\n\nconst gStateBoundaryBgLayer = {\n    \"id\": \"admin-1-boundary-bg\",\n    \"type\": \"line\",\n    \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"boundary\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\"line-join\": \"bevel\"},\n    \"paint\": {\n        \"line-blur\": [\"interpolate\", [\"linear\"], [\"zoom\"], 3, 0, 8, 3],\n        \"line-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            3.75,\n            12,\n            5.5\n        ],\n        \"line-opacity\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            7,\n            0,\n            8,\n            0.75\n        ],\n        \"line-dasharray\": [1, 0],\n        \"line-translate\": [0, 0],\n        \"line-color\": \"hsl(0, 0%, 84%)\"\n    }\n};\n\nconst gStateLabelLayer = {\n    \"id\": \"state-label\",\n    \"type\": \"symbol\",\n    \"source\": \"states\",\n    \"source-layer\": \"states\",\n    \"minzoom\": 3,\n    \"maxzoom\": 5,\n    \"filter\": [\n        \"all\",\n        [\n            \"match\",\n            [\"get\", \"group\"],\n            [\"label\"],\n            true,\n            false\n        ]\n        ],\n    \"layout\": {\n        \"text-size\": [\n            \"interpolate\",\n            [\"cubic-bezier\", 0.85, 0.7, 0.65, 1],\n            [\"zoom\"],\n            4,\n            [\"step\", [\"get\", \"symbolrank\"], 10, 6, 9.5, 7, 9],\n            9,\n            [\"step\", [\"get\", \"symbolrank\"], 24, 6, 18, 7, 14]\n        ],\n        \"text-transform\": \"uppercase\",\n        \"text-font\": [\"DIN Offc Pro Bold\", \"Arial Unicode MS Bold\"],\n        \"text-field\": [\"get\", \"titleShort\"],\n        \"text-letter-spacing\": 0.15,\n        \"text-max-width\": 6\n    },\n    \"paint\": {\n        \"text-halo-width\": 1,\n        \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n        \"text-color\": \"hsl(0, 0%, 66%)\"\n    }\n};\n\nfunction nbrVotersLayer(state) {\n    const layer = {\n        \"id\": gNbrVotersLayerName,\n        \"type\": \"symbol\",\n        \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n        \"source\": \"districts\",\n        \"source-layer\": \"districts\",\n        \"minzoom\": 5,\n        \"maxzoom\": 9,\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"label\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"]\n          ],\n        \"layout\": {\n            \"text-size\": [\n                \"interpolate\",\n                [\n                  \"cubic-bezier\",\n                  0.85,\n                  0.7,\n                  0.65,\n                  1\n                ],\n                [\"zoom\"],\n                5,\n                10,\n                9,\n                [\n                  \"step\",\n                  [\"get\", \"symbolrank\"],\n                  24,\n                  3,\n                  14,\n                  6,\n                  18\n                ]\n              ],\n            \"text-transform\": \"none\",\n            \"text-font\": [\"DIN Offc Pro Regular\", \"Arial Unicode MS Regular\"],\n            \"text-field\": [\n                \"step\",\n                [\"zoom\"],\n                \"\",\n                5,\n                [\"get\", \"turnoutStr\"]\n              ],\n            \"text-letter-spacing\": 0.15,\n            \"text-max-width\": 10,\n            \"text-allow-overlap\": true,\n            \"text-offset\": [0, 0.75]\n        },\n        \"paint\": {\n            \"text-halo-width\": 1,\n            \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n            \"text-color\": \"hsl(0, 0%, 29%)\"\n        }\n    };\n    if (state) {\n        layer.filter.push([\"match\", [\"get\", \"state\"], [state], true, false]);\n    }\n    return layer;\n}\n\nfunction districtLabelLayer(state) {\n    const layer = {\n        \"id\": gDistrictLabelLayerName,\n        \"type\": \"symbol\",\n        \"metadata\": {\"mapbox:group\": \"1444934295202.7542\"},\n        \"source\": \"composite\",\n        \"source-layer\": \"districts\",\n        \"minzoom\": 5,\n        \"maxzoom\": 9,\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"label\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"]\n          ],\n        \"layout\": {\n            \"text-size\": [\n                \"interpolate\",\n                [\n                  \"cubic-bezier\",\n                  0.85,\n                  0.7,\n                  0.65,\n                  1\n                ],\n                [\"zoom\"],\n                5,\n                10,\n                9,\n                [\n                  \"step\",\n                  [\"get\", \"symbolrank\"],\n                  24,\n                  6,\n                  18,\n                  7,\n                  14\n                ]\n              ],\n            \"text-transform\": \"none\",\n            \"text-font\": [\"DIN Offc Pro Regular\", \"Arial Unicode MS Regular\"],\n            \"text-field\": [\n                \"step\",\n                [\"zoom\"],\n                \"\",\n                5,\n                [\"get\", \"titleLong\"]\n              ],\n            \"text-letter-spacing\": 0.15,\n            \"text-max-width\": 10,\n            \"text-allow-overlap\": true,\n            \"text-offset\": [0, -0.75]\n        },\n        \"paint\": {\n            \"text-halo-width\": 1,\n            \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n            \"text-color\": \"hsl(0, 0%, 29%)\"\n        }\n    };\n    if (state) {\n        layer.filter.push([\"match\", [\"get\", \"state\"], [state], true, false]);\n    }\n    return layer;\n}\n\nfunction districtBackgroundLayer(state) {\n    /*\n    H ranges from 0 (red) to 225 (blue).\n\n    H = m*turnout + b\n\n    We want:\n        H = 0 = m*MAX_TURNOUT + b\n        H = 225 = m*MIN_TURNOUT + b\n\n    So:\n        b = -m*MAX_TURNOUT\n        225 = m*MIN_TURNOUT - m*MAX_TURNOUT = m*(MIN_TURNOUT - MAX_TURNOUT)\n        m = 225/(MIN_TURNOUT - MAX_TURNOUT)\n        b = -MAX_TURNOUT*225/(MIN_TURNOUT - MAX_TURNOUT)\n        H = 225/(MIN_TURNOUT - MAX_TURNOUT)*turnout - MAX_TURNOUT*225/(MIN_TURNOUT - MAX_TURNOUT)\n        H = 225/(MIN_TURNOUT - MAX_TURNOUT)*(turnout - MAX_TURNOUT)\n\n    Therefore:\n\n        H = (turnout - MAX_TURNOUT)*225/(MIN_TURNOUT - MAX_TURNOUT)\n    */\n\n    const minTurnout = 203;\n    const maxTurnout = 444230;\n    const K = 225/(minTurnout - maxTurnout);\n\n    /* H = K*(turnout - MAX_TURNOUT) */\n\n    const layer = {\n        \"id\": gHighlightStateLayerName,\n        \"type\": \"fill\",\n        \"source\": \"districts\",\n        \"source-layer\": \"districts\",\n        \"filter\": [\n            \"all\",\n            [\n              \"match\",\n              [\"get\", \"group\"],\n              [\"boundary\"],\n              true,\n              false\n            ],\n            [\"has\", \"turnout\"],\n        ],\n        \"paint\": {\n            \"fill-color\": [\n                \"concat\",\n                \"hsl(\",\n                [\"to-string\", [\"*\", [\"-\", [\"get\", \"turnout\"], maxTurnout], K]],\n                \", 100%, 50%)\",\n            ],\n            \"fill-opacity\": 0.2,\n            \"fill-antialias\": false\n        },\n    };\n    if (state) {\n        layer.filter.push([\"match\", [\"get\", \"state\"], [state], true, false]);\n    }\n    return layer;\n}\n\nclass Map extends Component {\n    componentDidMount() {\n        mapboxgl.clearStorage();\n\n        const opts = {\n            container: this.mapContainer,\n            maxPitch: 0,\n            touchPitch: false,\n            dragRotate: false,\n        };\n        if (this.props.center !== undefined) {\n            opts.center = this.props.center;\n        }\n        if (this.props.zoom !== undefined) {\n            opts.zoom = this.props.zoom;\n        }\n        this.map = new mapboxgl.Map(opts);\n\n        this.map.setStyle('mapbox://styles/dshearer/ckbu2kkj1030b1io3jfo1ykiq');\n\n        this.map.on('style.load', () => {\n            const statesSource = `mapbox://dshearer.states-${this.props.congress}`;\n            const districtsSource = `mapbox://dshearer.districts-${this.props.congress}`;\n            console.log(statesSource);\n            console.log(districtsSource);\n\n            this.map.addSource('states', {\n                type: 'vector',\n                url: statesSource,\n            });\n            this.map.addSource('districts', {\n                type: 'vector',\n                url: districtsSource,\n            });\n\n            this.map.addLayer(gStateLabelLayer);\n            this.map.addLayer(gStateBoundaryBgLayer);\n            this.map.addLayer(gStateBoundaryLayer);\n            this.map.addLayer(gDistrictBoundaryLayer);\n            this.map.addLayer(districtBackgroundLayer());\n            this.map.addLayer(nbrVotersLayer());\n    \n            this.highlightedState = this.props.highlightState;\n        });\n    }\n\n    componentWillUnmount() {\n        if (this.map) {\n            this.map.remove();\n            this.map = undefined;\n        }\n    }\n\n    render() {\n\n        return (\n            <figure ref={el => this.mapContainer = el} style={{margin: '0',}}>\n                <figcaption>{ordinal(this.props.congress)} Congress</figcaption>\n            </figure>\n        );\n    }\n}\n\nexport {Map};","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport _ from 'lodash';\nimport {ordinal} from './utils.js';\nimport CONGRESS_NBR_TO_STYLE_ID from './congressNbrToStyleId';\nimport {startYearForCongress} from './congress.js';\nimport {Map} from './Map.js';\nimport './Map.css';\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZHNoZWFyZXIiLCJhIjoiY2syam1qaThuMTEzazNsbnZxNHhidnZqcyJ9.Q0wOV0EePfEaRyw1oEK3UA';\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\n\nclass MapWithPicker extends Component {\n    constructor(props) {\n        super(props);\n\n        this.sortedCongressNbrs = \n          _.sortBy(_.keys(CONGRESS_NBR_TO_STYLE_ID).map(n => parseInt(n)));\n\n        this.state = {\n            congress: this.sortedCongressNbrs[0],\n        };\n\n        this.handleSelectCongress = this.handleSelectCongress.bind(this);\n    }\n\n    handleSelectCongress(event) {\n        const newCongress = parseInt(event.target.value);\n        this.setState({congress: newCongress});\n    }\n\n    render() {\n        const pickerOpts = this.sortedCongressNbrs.map(n => {\n          return (<option key={n} value={n}>{ordinal(n)} Congress ({startYearForCongress(n)})</option>);\n        });\n        const picker = (\n          <select value={this.state.congress} onChange={this.handleSelectCongress}>\n            {pickerOpts}}\n          </select>\n        );\n\n        return (\n            <div>\n                {picker}\n                <div style={{height: '500px', width: '700px'}}>\n                    <Map congress={this.state.congress} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport {MapWithPicker};","/* Generated by compute-stats */\nconst CongressStats = {\"1\":{\"nbrReps\":44,\"voters\":1471},\"10\":{\"nbrReps\":125,\"voters\":4353},\"100\":{\"nbrReps\":443,\"voters\":142912},\"101\":{\"nbrReps\":447,\"voters\":199674},\"102\":{\"nbrReps\":445,\"voters\":151459},\"103\":{\"nbrReps\":440,\"voters\":232838.5},\"104\":{\"nbrReps\":439,\"voters\":169280},\"105\":{\"nbrReps\":442,\"voters\":215136},\"106\":{\"nbrReps\":439,\"voters\":161627},\"107\":{\"nbrReps\":439,\"voters\":229761},\"108\":{\"nbrReps\":440,\"voters\":174454.5},\"109\":{\"nbrReps\":439,\"voters\":272049},\"11\":{\"nbrReps\":129,\"voters\":4711},\"110\":{\"nbrReps\":440,\"voters\":192380},\"111\":{\"nbrReps\":440},\"112\":{\"nbrReps\":440},\"113\":{\"nbrReps\":439},\"114\":{\"nbrReps\":439},\"115\":{\"nbrReps\":440},\"12\":{\"nbrReps\":122,\"voters\":4787.5},\"13\":{\"nbrReps\":174,\"voters\":3705},\"14\":{\"nbrReps\":171,\"voters\":6009.5},\"15\":{\"nbrReps\":166,\"voters\":5332},\"16\":{\"nbrReps\":170,\"voters\":6963.5},\"17\":{\"nbrReps\":173,\"voters\":4239.5},\"18\":{\"nbrReps\":193,\"voters\":4399},\"19\":{\"nbrReps\":198,\"voters\":3406},\"2\":{\"nbrReps\":58,\"voters\":2018.5},\"20\":{\"nbrReps\":197},\"21\":{\"nbrReps\":194},\"22\":{\"nbrReps\":191},\"23\":{\"nbrReps\":222},\"24\":{\"nbrReps\":217},\"25\":{\"nbrReps\":230},\"26\":{\"nbrReps\":229},\"27\":{\"nbrReps\":230},\"28\":{\"nbrReps\":214},\"29\":{\"nbrReps\":224},\"3\":{\"nbrReps\":77,\"voters\":2265},\"30\":{\"nbrReps\":236},\"31\":{\"nbrReps\":241},\"32\":{},\"33\":{\"nbrReps\":239},\"34\":{\"nbrReps\":236},\"35\":{\"nbrReps\":242},\"36\":{\"nbrReps\":241},\"37\":{},\"38\":{\"nbrReps\":187},\"39\":{\"nbrReps\":202},\"4\":{\"voters\":2071},\"40\":{\"nbrReps\":234},\"41\":{\"nbrReps\":259},\"42\":{\"nbrReps\":256},\"43\":{\"nbrReps\":291},\"44\":{\"nbrReps\":307},\"45\":{\"nbrReps\":305},\"46\":{\"nbrReps\":303},\"47\":{},\"48\":{\"nbrReps\":331},\"49\":{\"nbrReps\":334},\"5\":{\"nbrReps\":94,\"voters\":2069},\"50\":{\"nbrReps\":331},\"51\":{\"nbrReps\":354},\"52\":{\"nbrReps\":346},\"53\":{\"nbrReps\":368},\"54\":{\"nbrReps\":364},\"55\":{\"nbrReps\":363},\"56\":{\"nbrReps\":371},\"57\":{\"nbrReps\":365},\"58\":{},\"59\":{},\"6\":{\"nbrReps\":96,\"voters\":3400.5},\"60\":{\"nbrReps\":396},\"61\":{\"nbrReps\":401},\"62\":{\"nbrReps\":405},\"63\":{\"nbrReps\":429},\"64\":{\"nbrReps\":434},\"65\":{\"nbrReps\":449},\"66\":{\"nbrReps\":456},\"67\":{\"nbrReps\":450},\"68\":{\"nbrReps\":455},\"69\":{\"nbrReps\":445},\"7\":{\"nbrReps\":92,\"voters\":3613},\"70\":{\"nbrReps\":445},\"71\":{\"nbrReps\":460},\"72\":{\"nbrReps\":455},\"73\":{\"nbrReps\":448},\"74\":{\"nbrReps\":447},\"75\":{\"nbrReps\":452},\"76\":{\"nbrReps\":462},\"77\":{\"nbrReps\":456},\"78\":{},\"79\":{\"nbrReps\":451},\"8\":{\"voters\":4288},\"80\":{\"nbrReps\":453},\"81\":{\"nbrReps\":447},\"82\":{\"nbrReps\":452},\"83\":{\"nbrReps\":444},\"84\":{\"nbrReps\":442},\"85\":{\"nbrReps\":446},\"86\":{\"nbrReps\":449},\"87\":{\"nbrReps\":450},\"88\":{\"nbrReps\":446},\"89\":{\"nbrReps\":444},\"9\":{\"nbrReps\":120,\"voters\":3374},\"90\":{\"nbrReps\":440},\"91\":{\"nbrReps\":449},\"92\":{\"nbrReps\":446},\"93\":{\"nbrReps\":444},\"94\":{\"nbrReps\":447},\"95\":{\"nbrReps\":445,\"voters\":176194},\"96\":{\"nbrReps\":444,\"voters\":131910},\"97\":{\"nbrReps\":448,\"voters\":179622},\"98\":{\"nbrReps\":445,\"voters\":155316.5},\"99\":{\"nbrReps\":444,\"voters\":203857}}\n;\nexport {CongressStats};\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport {CongressStats} from './stats.js';\nimport {startYearForCongress} from './congress.js';\nimport './Graph.css';\nconst _ = require('lodash');\n\nclass Graph extends Component {\n    componentDidMount() {\n        const margin = {top: 10, right: 50, bottom: 40, left: 70},\n            width = 1060 - margin.left - margin.right,\n            height = 400 - margin.top - margin.bottom;\n\n        // prepare data\n        const data = _.keys(CongressStats).map(congress => {\n            const rec = CongressStats[congress];\n            rec.year = d3.timeParse('%Y')(startYearForCongress(parseInt(congress)));\n            return rec;\n        });\n\n        // make the lines\n        const x = d3.scaleUtc()\n            .domain(d3.extent(data, d => d.year))\n            .range([ 0, width ]);\n        const votersY = d3.scaleLinear()\n            .domain([0, d3.max(data, d => d.voters)]).nice()\n            .range([ height, 0 ]);\n        const nbrRepsY = d3.scaleLinear()\n            .domain([0, d3.max(data, d => d.nbrReps)]).nice()\n            .range([ height, 0 ]);\n        const votersLine = d3.line()\n            .defined(d => d.voters !== undefined)\n            .x(d => x(d.year))\n            .y(d => votersY(d.voters));\n        const nbrRepsLine = d3.line()\n            .defined(d => d.nbrReps !== undefined)\n            .x(d => x(d.year))\n            .y(d => nbrRepsY(d.nbrReps));\n\n        const svg = d3.select(this.container)\n            .append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\",  \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        // make the axes\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x));\n        svg.append(\"g\")\n            .attr(\"class\", \"axisVoters\")\n            .call(d3.axisLeft(votersY));\n        svg.append(\"g\")\n            .attr(\"class\", \"axisNbrReps\")\n            .attr(\"transform\", \"translate(\" + width + \", 0)\")\n            .call(d3.axisRight(nbrRepsY));\n\n        // make the axis labels\n        svg.append(\"text\")             \n            .attr(\"transform\",\n                    \"translate(\" + (width/2) + \" ,\" + \n                                (height + margin.top + 25) + \")\")\n            .style(\"text-anchor\", \"middle\")\n            .text(\"Year\");\n        svg.append(\"text\")\n            .attr(\"class\", \"axisVotersLabel\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .attr(\"y\", 0 - margin.left)\n            .attr(\"x\", 0 - (height / 2))\n            .attr(\"dy\", \"1em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(\"Nbr of voters per district\");    \n        svg.append(\"text\")\n            .attr(\"class\", \"axixNbrRepsLabel\")\n            .attr(\"transform\", \"rotate(90)\")\n            .attr(\"y\", -width - 35)\n            .attr(\"x\", height / 2)\n            // .attr(\"dy\", \"1em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(\"Nbr of congresspeople\");     \n\n        svg.append(\"path\")\n            .datum(data.filter(votersLine.defined()))\n            .attr(\"class\", \"lineMissing\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", votersLine);\n\n        svg.append(\"path\")\n            .datum(data)\n            .attr(\"class\", \"lineVoters\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", votersLine);\n\n        svg.append(\"path\")\n            .datum(data.filter(nbrRepsLine.defined()))\n            .attr(\"class\", \"lineMissing\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", nbrRepsLine);\n\n        svg.append(\"path\")\n            .datum(data)\n            .attr(\"class\", \"lineNbrReps\")\n            .attr(\"fill\", \"none\")\n            .attr(\"d\", nbrRepsLine);\n    }\n\n    render() {\n        return (<div ref={el => this.container = el}></div>);\n    }\n\n}\n\nexport {Graph};","import React, { Component } from 'react';\nimport numeral from 'numeral';\nimport {MapWithPicker} from './MapWithPicker.js';\nimport {Map} from './Map.js';\nimport {Graph} from './Graph.js';\nimport './App.css';\nimport {startYearForCongress, congressForYear} from './congress.js';\nimport {CongressStats} from './stats.js';\n\nfunction medianVoters(year) {\n  const factStat = CongressStats[''+congressForYear(year)];\n  console.assert(factStat !== undefined);\n  return factStat.voters;\n}\n\nfunction nbrReps(year) {\n  if (year >= 1970) {\n    return 435;\n  }\n  const factStat = CongressStats[''+congressForYear(year)];\n  console.assert(factStat !== undefined);\n  return factStat.nbrReps;\n}\n\nclass App extends Component {\n  render() {\n    const text = \"In an ideal democracy, each citizen's political power necessarily decreases \" + \n    \"as the population increases.\";\n\n    const usCenter = [-96.429, 38.3];\n\n    return (\n      <div className=\"App\">\n        <div className=\"story-part\">\n          <div>\n            <Map congress={congressForYear(1805)} center={usCenter} zoom={2.5} />\n          </div>\n          \n          <div className=\"text\">\n            <p>In 1804, the median number of voters per Congressperson was&nbsp;\n            {numeral(medianVoters(1805)).format('0,0')}.</p>\n\n            <p>There were {numeral(nbrReps(1805)).format('0,0')} Congresspeople.</p>\n          </div>\n        </div>\n\n        <div className=\"story-part\">\n          <div>\n            <Map congress={congressForYear(1817)} center={usCenter} zoom={2.5} />\n          </div>\n          \n          <div className=\"text\">\n            <p>In 1816, the median number of voters per Congressperson was&nbsp;\n            {numeral(medianVoters(1817)).format('0,0')}.</p>\n\n            <p>There were {numeral(nbrReps(1817)).format('0,0')} Congresspeople.</p>\n          </div>\n        </div>\n\n        <div className=\"story-part\">\n          <div>\n            <Map congress={congressForYear(1977)} center={usCenter} zoom={2.5} />\n          </div>\n          \n          <div className=\"text\">\n            <p>In 1976, the median number of voters per Congressperson was&nbsp;\n            {numeral(medianVoters(1977)).format('0,0')}.</p>\n\n            <p>There were {numeral(nbrReps(1977)).format('0,0')} Congresspeople.</p>\n          </div>\n        </div>\n\n        <div className=\"story-part\">\n          <div>\n            <Map congress={congressForYear(1987)} center={usCenter} zoom={2.5} />\n          </div>\n          \n          <div className=\"text\">\n            <p>In 1986, the median number of voters per Congressperson was&nbsp;\n            {numeral(medianVoters(1987)).format('0,0')}.</p>\n\n            <p>There were {numeral(nbrReps(1987)).format('0,0')} Congresspeople.</p>\n          </div>\n        </div>\n\n        <div className=\"story-part\">\n          <div>\n            <Map congress={congressForYear(2005)} center={usCenter} zoom={2.5} />\n          </div>\n          \n          <div className=\"text\">\n            <p>In 2004, the median number of voters per Congressperson was&nbsp;\n            {numeral(medianVoters(2005)).format('0,0')}.</p>\n\n            <p>There were {numeral(nbrReps(2005)).format('0,0')} Congresspeople.</p>\n          </div>\n        </div>\n\n        {/* <div className=\"story-part\">\n          <div className=\"text\">\n            <p>\n              By 1816, Tennessee&rsquo;s population had grown, and it was entitled to six representatives\n              in the House.\n            </p>\n\n            <p>\n              In that year&rsquo;s election, the 5th District had the greatest turnout, with 9,360 voters, while\n              the 1st had the least, with 4,905.\n            </p>\n          </div>\n\n          <div>\n            <Map congress={congressForYear(1817)} center={[-85.8, 35.7]} zoom={5.2} highlightState=\"TN\" />\n          </div>\n        </div>\n\n        <div className=\"story-part\">\n          <div>\n            <Map congress={congressForYear(1987)} center={[-85.8, 35.7]} zoom={5.2} highlightState=\"TN\" />\n          </div>\n\n          <div className=\"text\">\n            <p>\n              Jump ahead to modern times &mdash; say, 1986.\n            </p>\n          </div>\n        </div> */}\n\n        {/* <MapWithPicker />\n        <Graph /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}